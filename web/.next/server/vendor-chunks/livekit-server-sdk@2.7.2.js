"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/livekit-server-sdk@2.7.2";
exports.ids = ["vendor-chunks/livekit-server-sdk@2.7.2"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/AccessToken.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/AccessToken.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessToken: () => (/* binding */ AccessToken),\n/* harmony export */   TokenVerifier: () => (/* binding */ TokenVerifier)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/.pnpm/jose@5.9.3/node_modules/jose/dist/node/esm/jwt/sign.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/.pnpm/jose@5.9.3/node_modules/jose/dist/node/esm/jwt/verify.js\");\n/* harmony import */ var _grants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grants.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/grants.js\");\n// SPDX-FileCopyrightText: 2024 LiveKit, Inc.\n//\n// SPDX-License-Identifier: Apache-2.0\n\n\n// 6 hours\nconst defaultTTL = `6h`;\nclass AccessToken {\n    /**\n     * Creates a new AccessToken\n     * @param apiKey - API Key, can be set in env LIVEKIT_API_KEY\n     * @param apiSecret - Secret, can be set in env LIVEKIT_API_SECRET\n     */\n    constructor(apiKey, apiSecret, options) {\n        if (!apiKey) {\n            apiKey = process.env.LIVEKIT_API_KEY;\n        }\n        if (!apiSecret) {\n            apiSecret = process.env.LIVEKIT_API_SECRET;\n        }\n        if (!apiKey || !apiSecret) {\n            throw Error('api-key and api-secret must be set');\n        }\n        else if (typeof document !== 'undefined') {\n            // check against document rather than window because deno provides window\n            console.error('You should not include your API secret in your web client bundle.\\n\\n' +\n                'Your web client should request a token from your backend server which should then use ' +\n                'the API secret to generate a token. See https://docs.livekit.io/client/connect/');\n        }\n        this.apiKey = apiKey;\n        this.apiSecret = apiSecret;\n        this.grants = {};\n        this.identity = options === null || options === void 0 ? void 0 : options.identity;\n        this.ttl = (options === null || options === void 0 ? void 0 : options.ttl) || defaultTTL;\n        if (typeof this.ttl === 'number') {\n            this.ttl = `${this.ttl}s`;\n        }\n        if (options === null || options === void 0 ? void 0 : options.metadata) {\n            this.metadata = options.metadata;\n        }\n        if (options === null || options === void 0 ? void 0 : options.name) {\n            this.name = options.name;\n        }\n    }\n    /**\n     * Adds a video grant to this token.\n     * @param grant -\n     */\n    addGrant(grant) {\n        var _a;\n        this.grants.video = Object.assign(Object.assign({}, ((_a = this.grants.video) !== null && _a !== void 0 ? _a : {})), grant);\n    }\n    /**\n     * Adds a SIP grant to this token.\n     * @param grant -\n     */\n    addSIPGrant(grant) {\n        var _a;\n        this.grants.sip = Object.assign(Object.assign({}, ((_a = this.grants.sip) !== null && _a !== void 0 ? _a : {})), grant);\n    }\n    get name() {\n        return this.grants.name;\n    }\n    set name(name) {\n        this.grants.name = name;\n    }\n    get metadata() {\n        return this.grants.metadata;\n    }\n    /**\n     * Set metadata to be passed to the Participant, used only when joining the room\n     */\n    set metadata(md) {\n        this.grants.metadata = md;\n    }\n    get attributes() {\n        return this.grants.attributes;\n    }\n    set attributes(attrs) {\n        this.grants.attributes = attrs;\n    }\n    get kind() {\n        return this.grants.kind;\n    }\n    set kind(kind) {\n        this.grants.kind = kind;\n    }\n    get sha256() {\n        return this.grants.sha256;\n    }\n    set sha256(sha) {\n        this.grants.sha256 = sha;\n    }\n    /**\n     * @returns JWT encoded token\n     */\n    async toJwt() {\n        // TODO: check for video grant validity\n        var _a;\n        const secret = new TextEncoder().encode(this.apiSecret);\n        const jwt = new jose__WEBPACK_IMPORTED_MODULE_1__.SignJWT((0,_grants_js__WEBPACK_IMPORTED_MODULE_0__.claimsToJwtPayload)(this.grants))\n            .setProtectedHeader({ alg: 'HS256' })\n            .setIssuer(this.apiKey)\n            .setExpirationTime(this.ttl)\n            .setNotBefore(0);\n        if (this.identity) {\n            jwt.setSubject(this.identity);\n        }\n        else if ((_a = this.grants.video) === null || _a === void 0 ? void 0 : _a.roomJoin) {\n            throw Error('identity is required for join but not set');\n        }\n        return jwt.sign(secret);\n    }\n}\nclass TokenVerifier {\n    constructor(apiKey, apiSecret) {\n        this.apiKey = apiKey;\n        this.apiSecret = apiSecret;\n    }\n    async verify(token) {\n        const secret = new TextEncoder().encode(this.apiSecret);\n        const { payload } = await jose__WEBPACK_IMPORTED_MODULE_2__.jwtVerify(token, secret, { issuer: this.apiKey });\n        if (!payload) {\n            throw Error('invalid token');\n        }\n        return payload;\n    }\n}\n//# sourceMappingURL=AccessToken.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbGl2ZWtpdC1zZXJ2ZXItc2RrQDIuNy4yL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9BY2Nlc3NUb2tlbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUM2QjtBQUNvQjtBQUNqRDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsU0FBUztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELCtEQUErRDtBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCw2REFBNkQ7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5Q0FBWSxDQUFDLDhEQUFrQjtBQUN2RCxrQ0FBa0MsY0FBYztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVLFFBQVEsMkNBQWMsa0JBQWtCLHFCQUFxQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmVraXQtbWVldC8uL25vZGVfbW9kdWxlcy8ucG5wbS9saXZla2l0LXNlcnZlci1zZGtAMi43LjIvbm9kZV9tb2R1bGVzL2xpdmVraXQtc2VydmVyLXNkay9kaXN0L0FjY2Vzc1Rva2VuLmpzPzFhYjciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyNCBMaXZlS2l0LCBJbmMuXG4vL1xuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmltcG9ydCAqIGFzIGpvc2UgZnJvbSAnam9zZSc7XG5pbXBvcnQgeyBjbGFpbXNUb0p3dFBheWxvYWQgfSBmcm9tICcuL2dyYW50cy5qcyc7XG4vLyA2IGhvdXJzXG5jb25zdCBkZWZhdWx0VFRMID0gYDZoYDtcbmV4cG9ydCBjbGFzcyBBY2Nlc3NUb2tlbiB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBBY2Nlc3NUb2tlblxuICAgICAqIEBwYXJhbSBhcGlLZXkgLSBBUEkgS2V5LCBjYW4gYmUgc2V0IGluIGVudiBMSVZFS0lUX0FQSV9LRVlcbiAgICAgKiBAcGFyYW0gYXBpU2VjcmV0IC0gU2VjcmV0LCBjYW4gYmUgc2V0IGluIGVudiBMSVZFS0lUX0FQSV9TRUNSRVRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhcGlLZXksIGFwaVNlY3JldCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIWFwaUtleSkge1xuICAgICAgICAgICAgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuTElWRUtJVF9BUElfS0VZO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYXBpU2VjcmV0KSB7XG4gICAgICAgICAgICBhcGlTZWNyZXQgPSBwcm9jZXNzLmVudi5MSVZFS0lUX0FQSV9TRUNSRVQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhcGlLZXkgfHwgIWFwaVNlY3JldCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ2FwaS1rZXkgYW5kIGFwaS1zZWNyZXQgbXVzdCBiZSBzZXQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBhZ2FpbnN0IGRvY3VtZW50IHJhdGhlciB0aGFuIHdpbmRvdyBiZWNhdXNlIGRlbm8gcHJvdmlkZXMgd2luZG93XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdZb3Ugc2hvdWxkIG5vdCBpbmNsdWRlIHlvdXIgQVBJIHNlY3JldCBpbiB5b3VyIHdlYiBjbGllbnQgYnVuZGxlLlxcblxcbicgK1xuICAgICAgICAgICAgICAgICdZb3VyIHdlYiBjbGllbnQgc2hvdWxkIHJlcXVlc3QgYSB0b2tlbiBmcm9tIHlvdXIgYmFja2VuZCBzZXJ2ZXIgd2hpY2ggc2hvdWxkIHRoZW4gdXNlICcgK1xuICAgICAgICAgICAgICAgICd0aGUgQVBJIHNlY3JldCB0byBnZW5lcmF0ZSBhIHRva2VuLiBTZWUgaHR0cHM6Ly9kb2NzLmxpdmVraXQuaW8vY2xpZW50L2Nvbm5lY3QvJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgICAgIHRoaXMuYXBpU2VjcmV0ID0gYXBpU2VjcmV0O1xuICAgICAgICB0aGlzLmdyYW50cyA9IHt9O1xuICAgICAgICB0aGlzLmlkZW50aXR5ID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmlkZW50aXR5O1xuICAgICAgICB0aGlzLnR0bCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudHRsKSB8fCBkZWZhdWx0VFRMO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMudHRsID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy50dGwgPSBgJHt0aGlzLnR0bH1zYDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1ldGFkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgdmlkZW8gZ3JhbnQgdG8gdGhpcyB0b2tlbi5cbiAgICAgKiBAcGFyYW0gZ3JhbnQgLVxuICAgICAqL1xuICAgIGFkZEdyYW50KGdyYW50KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5ncmFudHMudmlkZW8gPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICgoX2EgPSB0aGlzLmdyYW50cy52aWRlbykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30pKSwgZ3JhbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgU0lQIGdyYW50IHRvIHRoaXMgdG9rZW4uXG4gICAgICogQHBhcmFtIGdyYW50IC1cbiAgICAgKi9cbiAgICBhZGRTSVBHcmFudChncmFudCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZ3JhbnRzLnNpcCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKChfYSA9IHRoaXMuZ3JhbnRzLnNpcCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30pKSwgZ3JhbnQpO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbnRzLm5hbWU7XG4gICAgfVxuICAgIHNldCBuYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5ncmFudHMubmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIGdldCBtZXRhZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbnRzLm1ldGFkYXRhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgbWV0YWRhdGEgdG8gYmUgcGFzc2VkIHRvIHRoZSBQYXJ0aWNpcGFudCwgdXNlZCBvbmx5IHdoZW4gam9pbmluZyB0aGUgcm9vbVxuICAgICAqL1xuICAgIHNldCBtZXRhZGF0YShtZCkge1xuICAgICAgICB0aGlzLmdyYW50cy5tZXRhZGF0YSA9IG1kO1xuICAgIH1cbiAgICBnZXQgYXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhbnRzLmF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIHNldCBhdHRyaWJ1dGVzKGF0dHJzKSB7XG4gICAgICAgIHRoaXMuZ3JhbnRzLmF0dHJpYnV0ZXMgPSBhdHRycztcbiAgICB9XG4gICAgZ2V0IGtpbmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYW50cy5raW5kO1xuICAgIH1cbiAgICBzZXQga2luZChraW5kKSB7XG4gICAgICAgIHRoaXMuZ3JhbnRzLmtpbmQgPSBraW5kO1xuICAgIH1cbiAgICBnZXQgc2hhMjU2KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFudHMuc2hhMjU2O1xuICAgIH1cbiAgICBzZXQgc2hhMjU2KHNoYSkge1xuICAgICAgICB0aGlzLmdyYW50cy5zaGEyNTYgPSBzaGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIEpXVCBlbmNvZGVkIHRva2VuXG4gICAgICovXG4gICAgYXN5bmMgdG9Kd3QoKSB7XG4gICAgICAgIC8vIFRPRE86IGNoZWNrIGZvciB2aWRlbyBncmFudCB2YWxpZGl0eVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHNlY3JldCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0aGlzLmFwaVNlY3JldCk7XG4gICAgICAgIGNvbnN0IGp3dCA9IG5ldyBqb3NlLlNpZ25KV1QoY2xhaW1zVG9Kd3RQYXlsb2FkKHRoaXMuZ3JhbnRzKSlcbiAgICAgICAgICAgIC5zZXRQcm90ZWN0ZWRIZWFkZXIoeyBhbGc6ICdIUzI1NicgfSlcbiAgICAgICAgICAgIC5zZXRJc3N1ZXIodGhpcy5hcGlLZXkpXG4gICAgICAgICAgICAuc2V0RXhwaXJhdGlvblRpbWUodGhpcy50dGwpXG4gICAgICAgICAgICAuc2V0Tm90QmVmb3JlKDApO1xuICAgICAgICBpZiAodGhpcy5pZGVudGl0eSkge1xuICAgICAgICAgICAgand0LnNldFN1YmplY3QodGhpcy5pZGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKF9hID0gdGhpcy5ncmFudHMudmlkZW8pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yb29tSm9pbikge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ2lkZW50aXR5IGlzIHJlcXVpcmVkIGZvciBqb2luIGJ1dCBub3Qgc2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGp3dC5zaWduKHNlY3JldCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRva2VuVmVyaWZpZXIge1xuICAgIGNvbnN0cnVjdG9yKGFwaUtleSwgYXBpU2VjcmV0KSB7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgICAgICB0aGlzLmFwaVNlY3JldCA9IGFwaVNlY3JldDtcbiAgICB9XG4gICAgYXN5bmMgdmVyaWZ5KHRva2VuKSB7XG4gICAgICAgIGNvbnN0IHNlY3JldCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0aGlzLmFwaVNlY3JldCk7XG4gICAgICAgIGNvbnN0IHsgcGF5bG9hZCB9ID0gYXdhaXQgam9zZS5qd3RWZXJpZnkodG9rZW4sIHNlY3JldCwgeyBpc3N1ZXI6IHRoaXMuYXBpS2V5IH0pO1xuICAgICAgICBpZiAoIXBheWxvYWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdpbnZhbGlkIHRva2VuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWNjZXNzVG9rZW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/AccessToken.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/EgressClient.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/EgressClient.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EgressClient: () => (/* binding */ EgressClient)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/.pnpm/@livekit+protocol@1.24.0/node_modules/@livekit/protocol/src/index.js\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n\n\n\nconst svc = 'Egress';\n/**\n * Client to access Egress APIs\n */\nclass EgressClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    /**\n     * @param host - hostname including protocol. i.e. 'https://cluster.livekit.io'\n     * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n     * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n     */\n    constructor(host, apiKey, secret) {\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    async startRoomCompositeEgress(roomName, output, optsOrLayout, options, audioOnly, videoOnly, customBaseUrl) {\n        let layout;\n        if (optsOrLayout !== undefined) {\n            if (typeof optsOrLayout === 'string') {\n                layout = optsOrLayout;\n            }\n            else {\n                const opts = optsOrLayout;\n                layout = opts.layout;\n                options = opts.encodingOptions;\n                audioOnly = opts.audioOnly;\n                videoOnly = opts.videoOnly;\n                customBaseUrl = opts.customBaseUrl;\n            }\n        }\n        layout !== null && layout !== void 0 ? layout : (layout = '');\n        audioOnly !== null && audioOnly !== void 0 ? audioOnly : (audioOnly = false);\n        videoOnly !== null && videoOnly !== void 0 ? videoOnly : (videoOnly = false);\n        customBaseUrl !== null && customBaseUrl !== void 0 ? customBaseUrl : (customBaseUrl = '');\n        const { output: legacyOutput, options: egressOptions, fileOutputs, streamOutputs, segmentOutputs, imageOutputs, } = this.getOutputParams(output, options);\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomCompositeEgressRequest({\n            roomName,\n            layout,\n            audioOnly,\n            videoOnly,\n            customBaseUrl,\n            output: legacyOutput,\n            options: egressOptions,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs,\n        }).toJson();\n        const data = await this.rpc.request(svc, 'StartRoomCompositeEgress', req, await this.authHeader({ roomRecord: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * @param url - url\n     * @param output - file or stream output\n     * @param opts - WebOptions\n     */\n    async startWebEgress(url, output, opts) {\n        const audioOnly = (opts === null || opts === void 0 ? void 0 : opts.audioOnly) || false;\n        const videoOnly = (opts === null || opts === void 0 ? void 0 : opts.videoOnly) || false;\n        const awaitStartSignal = (opts === null || opts === void 0 ? void 0 : opts.awaitStartSignal) || false;\n        const { output: legacyOutput, options, fileOutputs, streamOutputs, segmentOutputs, imageOutputs, } = this.getOutputParams(output, opts === null || opts === void 0 ? void 0 : opts.encodingOptions);\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.WebEgressRequest({\n            url,\n            audioOnly,\n            videoOnly,\n            awaitStartSignal,\n            output: legacyOutput,\n            options,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs,\n        }).toJson();\n        const data = await this.rpc.request(svc, 'StartWebEgress', req, await this.authHeader({ roomRecord: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * Export a participant's audio and video tracks,\n     *\n     * @param roomName - room name\n     * @param output - one or more outputs\n     * @param opts - ParticipantEgressOptions\n     */\n    async startParticipantEgress(roomName, identity, output, opts) {\n        const { options, fileOutputs, streamOutputs, segmentOutputs, imageOutputs } = this.getOutputParams(output, opts === null || opts === void 0 ? void 0 : opts.encodingOptions);\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantEgressRequest({\n            roomName,\n            identity,\n            options,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs,\n        }).toJson();\n        const data = await this.rpc.request(svc, 'StartParticipantEgress', req, await this.authHeader({ roomRecord: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    async startTrackCompositeEgress(roomName, output, optsOrAudioTrackId, videoTrackId, options) {\n        let audioTrackId;\n        if (optsOrAudioTrackId !== undefined) {\n            if (typeof optsOrAudioTrackId === 'string') {\n                audioTrackId = optsOrAudioTrackId;\n            }\n            else {\n                const opts = optsOrAudioTrackId;\n                audioTrackId = opts.audioTrackId;\n                videoTrackId = opts.videoTrackId;\n                options = opts.encodingOptions;\n            }\n        }\n        audioTrackId !== null && audioTrackId !== void 0 ? audioTrackId : (audioTrackId = '');\n        videoTrackId !== null && videoTrackId !== void 0 ? videoTrackId : (videoTrackId = '');\n        const { output: legacyOutput, options: egressOptions, fileOutputs, streamOutputs, segmentOutputs, imageOutputs, } = this.getOutputParams(output, options);\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackCompositeEgressRequest({\n            roomName,\n            audioTrackId,\n            videoTrackId,\n            output: legacyOutput,\n            options: egressOptions,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs,\n        }).toJson();\n        const data = await this.rpc.request(svc, 'StartTrackCompositeEgress', req, await this.authHeader({ roomRecord: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isEncodedOutputs(output) {\n        return (output.file !== undefined ||\n            output.stream !== undefined ||\n            output.segments !== undefined);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isEncodedFileOutput(output) {\n        return (output.filepath !== undefined ||\n            output.fileType !== undefined);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isSegmentedFileOutput(output) {\n        return (output.filenamePrefix !== undefined ||\n            output.playlistName !== undefined ||\n            output.filenameSuffix !== undefined);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isStreamOutput(output) {\n        return (output.protocol !== undefined || output.urls !== undefined);\n    }\n    getOutputParams(output, opts) {\n        let file;\n        let fileOutputs;\n        let stream;\n        let streamOutputs;\n        let segments;\n        let segmentOutputs;\n        let imageOutputs;\n        if (this.isEncodedOutputs(output)) {\n            if (output.file !== undefined) {\n                fileOutputs = [output.file];\n            }\n            if (output.stream !== undefined) {\n                streamOutputs = [output.stream];\n            }\n            if (output.segments !== undefined) {\n                segmentOutputs = [output.segments];\n            }\n            if (output.images !== undefined) {\n                imageOutputs = [output.images];\n            }\n        }\n        else if (this.isEncodedFileOutput(output)) {\n            file = output;\n            fileOutputs = [file];\n        }\n        else if (this.isSegmentedFileOutput(output)) {\n            segments = output;\n            segmentOutputs = [segments];\n        }\n        else if (this.isStreamOutput(output)) {\n            stream = output;\n            streamOutputs = [stream];\n        }\n        let legacyOutput;\n        if (file) {\n            legacyOutput = {\n                case: 'file',\n                value: file,\n            };\n        }\n        else if (stream) {\n            legacyOutput = {\n                case: 'stream',\n                value: stream,\n            };\n        }\n        else if (segments) {\n            legacyOutput = {\n                case: 'segments',\n                value: segments,\n            };\n        }\n        let egressOptions;\n        if (opts) {\n            if (typeof opts === 'number') {\n                egressOptions = {\n                    case: 'preset',\n                    value: opts,\n                };\n            }\n            else {\n                egressOptions = {\n                    case: 'advanced',\n                    value: opts,\n                };\n            }\n        }\n        return {\n            output: legacyOutput,\n            options: egressOptions,\n            fileOutputs,\n            streamOutputs,\n            segmentOutputs,\n            imageOutputs,\n        };\n    }\n    /**\n     * @param roomName - room name\n     * @param output - file or websocket output\n     * @param trackId - track Id\n     */\n    async startTrackEgress(roomName, output, trackId) {\n        let legacyOutput;\n        if (typeof output === 'string') {\n            legacyOutput = {\n                case: 'websocketUrl',\n                value: output,\n            };\n        }\n        else {\n            legacyOutput = {\n                case: 'file',\n                value: output,\n            };\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackEgressRequest({\n            roomName,\n            trackId,\n            output: legacyOutput,\n        }).toJson();\n        const data = await this.rpc.request(svc, 'StartTrackEgress', req, await this.authHeader({ roomRecord: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * @param egressId -\n     * @param layout -\n     */\n    async updateLayout(egressId, layout) {\n        const data = await this.rpc.request(svc, 'UpdateLayout', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateLayoutRequest({ egressId, layout }).toJson(), await this.authHeader({ roomRecord: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * @param egressId -\n     * @param addOutputUrls -\n     * @param removeOutputUrls -\n     */\n    async updateStream(egressId, addOutputUrls, removeOutputUrls) {\n        addOutputUrls !== null && addOutputUrls !== void 0 ? addOutputUrls : (addOutputUrls = []);\n        removeOutputUrls !== null && removeOutputUrls !== void 0 ? removeOutputUrls : (removeOutputUrls = []);\n        const data = await this.rpc.request(svc, 'UpdateStream', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateStreamRequest({ egressId, addOutputUrls, removeOutputUrls }).toJson(), await this.authHeader({ roomRecord: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * @param roomName - list egress for one room only\n     */\n    async listEgress(options) {\n        var _a;\n        let req = {};\n        if (typeof options === 'string') {\n            req.roomName = options;\n        }\n        else if (options !== undefined) {\n            req = options;\n        }\n        const data = await this.rpc.request(svc, 'ListEgress', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListEgressRequest(req).toJson(), await this.authHeader({ roomRecord: true }));\n        return (_a = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListEgressResponse.fromJson(data, { ignoreUnknownFields: true }).items) !== null && _a !== void 0 ? _a : [];\n    }\n    /**\n     * @param egressId -\n     */\n    async stopEgress(egressId) {\n        const data = await this.rpc.request(svc, 'StopEgress', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.StopEgressRequest({ egressId }).toJson(), await this.authHeader({ roomRecord: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n}\n//# sourceMappingURL=EgressClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbGl2ZWtpdC1zZXJ2ZXItc2RrQDIuNy4yL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9FZ3Jlc3NDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE2UTtBQUNsTztBQUNjO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLHVEQUFXO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFRLE9BQU8sd0RBQWM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwR0FBMEc7QUFDMUgsd0JBQXdCLHlFQUEwQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDBHQUEwRyxrQkFBa0I7QUFDNUgsZUFBZSx5REFBVSxrQkFBa0IsMkJBQTJCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDJGQUEyRjtBQUMzRyx3QkFBd0IsK0RBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGdHQUFnRyxrQkFBa0I7QUFDbEgsZUFBZSx5REFBVSxrQkFBa0IsMkJBQTJCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvRUFBb0U7QUFDcEYsd0JBQXdCLHVFQUF3QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCx3R0FBd0csa0JBQWtCO0FBQzFILGVBQWUseURBQVUsa0JBQWtCLDJCQUEyQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwR0FBMEc7QUFDMUgsd0JBQXdCLDBFQUEyQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsMkdBQTJHLGtCQUFrQjtBQUM3SCxlQUFlLHlEQUFVLGtCQUFrQiwyQkFBMkI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUVBQWtCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxrR0FBa0csa0JBQWtCO0FBQ3BILGVBQWUseURBQVUsa0JBQWtCLDJCQUEyQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsa0VBQW1CLEdBQUcsa0JBQWtCLG9DQUFvQyxrQkFBa0I7QUFDbkssZUFBZSx5REFBVSxrQkFBa0IsMkJBQTJCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxrRUFBbUIsR0FBRywyQ0FBMkMsb0NBQW9DLGtCQUFrQjtBQUM1TCxlQUFlLHlEQUFVLGtCQUFrQiwyQkFBMkI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsZ0VBQWlCLHdDQUF3QyxrQkFBa0I7QUFDOUkscUJBQXFCLGlFQUFrQixrQkFBa0IsMkJBQTJCO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsZ0VBQWlCLEdBQUcsVUFBVSxvQ0FBb0Msa0JBQWtCO0FBQ3ZKLGVBQWUseURBQVUsa0JBQWtCLDJCQUEyQjtBQUN0RTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZla2l0LW1lZXQvLi9ub2RlX21vZHVsZXMvLnBucG0vbGl2ZWtpdC1zZXJ2ZXItc2RrQDIuNy4yL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9FZ3Jlc3NDbGllbnQuanM/MTMwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZ3Jlc3NJbmZvLCBMaXN0RWdyZXNzUmVxdWVzdCwgTGlzdEVncmVzc1Jlc3BvbnNlLCBQYXJ0aWNpcGFudEVncmVzc1JlcXVlc3QsIFJvb21Db21wb3NpdGVFZ3Jlc3NSZXF1ZXN0LCBTdG9wRWdyZXNzUmVxdWVzdCwgVHJhY2tDb21wb3NpdGVFZ3Jlc3NSZXF1ZXN0LCBUcmFja0VncmVzc1JlcXVlc3QsIFVwZGF0ZUxheW91dFJlcXVlc3QsIFVwZGF0ZVN0cmVhbVJlcXVlc3QsIFdlYkVncmVzc1JlcXVlc3QsIH0gZnJvbSAnQGxpdmVraXQvcHJvdG9jb2wnO1xuaW1wb3J0IFNlcnZpY2VCYXNlIGZyb20gJy4vU2VydmljZUJhc2UuanMnO1xuaW1wb3J0IHsgVHdpcnBScGMsIGxpdmVraXRQYWNrYWdlIH0gZnJvbSAnLi9Ud2lycFJQQy5qcyc7XG5jb25zdCBzdmMgPSAnRWdyZXNzJztcbi8qKlxuICogQ2xpZW50IHRvIGFjY2VzcyBFZ3Jlc3MgQVBJc1xuICovXG5leHBvcnQgY2xhc3MgRWdyZXNzQ2xpZW50IGV4dGVuZHMgU2VydmljZUJhc2Uge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBob3N0IC0gaG9zdG5hbWUgaW5jbHVkaW5nIHByb3RvY29sLiBpLmUuICdodHRwczovL2NsdXN0ZXIubGl2ZWtpdC5pbydcbiAgICAgKiBAcGFyYW0gYXBpS2V5IC0gQVBJIEtleSwgY2FuIGJlIHNldCBpbiBlbnYgdmFyIExJVkVLSVRfQVBJX0tFWVxuICAgICAqIEBwYXJhbSBzZWNyZXQgLSBBUEkgU2VjcmV0LCBjYW4gYmUgc2V0IGluIGVudiB2YXIgTElWRUtJVF9BUElfU0VDUkVUXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaG9zdCwgYXBpS2V5LCBzZWNyZXQpIHtcbiAgICAgICAgc3VwZXIoYXBpS2V5LCBzZWNyZXQpO1xuICAgICAgICB0aGlzLnJwYyA9IG5ldyBUd2lycFJwYyhob3N0LCBsaXZla2l0UGFja2FnZSk7XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0Um9vbUNvbXBvc2l0ZUVncmVzcyhyb29tTmFtZSwgb3V0cHV0LCBvcHRzT3JMYXlvdXQsIG9wdGlvbnMsIGF1ZGlvT25seSwgdmlkZW9Pbmx5LCBjdXN0b21CYXNlVXJsKSB7XG4gICAgICAgIGxldCBsYXlvdXQ7XG4gICAgICAgIGlmIChvcHRzT3JMYXlvdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRzT3JMYXlvdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgbGF5b3V0ID0gb3B0c09yTGF5b3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0cyA9IG9wdHNPckxheW91dDtcbiAgICAgICAgICAgICAgICBsYXlvdXQgPSBvcHRzLmxheW91dDtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0cy5lbmNvZGluZ09wdGlvbnM7XG4gICAgICAgICAgICAgICAgYXVkaW9Pbmx5ID0gb3B0cy5hdWRpb09ubHk7XG4gICAgICAgICAgICAgICAgdmlkZW9Pbmx5ID0gb3B0cy52aWRlb09ubHk7XG4gICAgICAgICAgICAgICAgY3VzdG9tQmFzZVVybCA9IG9wdHMuY3VzdG9tQmFzZVVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsYXlvdXQgIT09IG51bGwgJiYgbGF5b3V0ICE9PSB2b2lkIDAgPyBsYXlvdXQgOiAobGF5b3V0ID0gJycpO1xuICAgICAgICBhdWRpb09ubHkgIT09IG51bGwgJiYgYXVkaW9Pbmx5ICE9PSB2b2lkIDAgPyBhdWRpb09ubHkgOiAoYXVkaW9Pbmx5ID0gZmFsc2UpO1xuICAgICAgICB2aWRlb09ubHkgIT09IG51bGwgJiYgdmlkZW9Pbmx5ICE9PSB2b2lkIDAgPyB2aWRlb09ubHkgOiAodmlkZW9Pbmx5ID0gZmFsc2UpO1xuICAgICAgICBjdXN0b21CYXNlVXJsICE9PSBudWxsICYmIGN1c3RvbUJhc2VVcmwgIT09IHZvaWQgMCA/IGN1c3RvbUJhc2VVcmwgOiAoY3VzdG9tQmFzZVVybCA9ICcnKTtcbiAgICAgICAgY29uc3QgeyBvdXRwdXQ6IGxlZ2FjeU91dHB1dCwgb3B0aW9uczogZWdyZXNzT3B0aW9ucywgZmlsZU91dHB1dHMsIHN0cmVhbU91dHB1dHMsIHNlZ21lbnRPdXRwdXRzLCBpbWFnZU91dHB1dHMsIH0gPSB0aGlzLmdldE91dHB1dFBhcmFtcyhvdXRwdXQsIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCByZXEgPSBuZXcgUm9vbUNvbXBvc2l0ZUVncmVzc1JlcXVlc3Qoe1xuICAgICAgICAgICAgcm9vbU5hbWUsXG4gICAgICAgICAgICBsYXlvdXQsXG4gICAgICAgICAgICBhdWRpb09ubHksXG4gICAgICAgICAgICB2aWRlb09ubHksXG4gICAgICAgICAgICBjdXN0b21CYXNlVXJsLFxuICAgICAgICAgICAgb3V0cHV0OiBsZWdhY3lPdXRwdXQsXG4gICAgICAgICAgICBvcHRpb25zOiBlZ3Jlc3NPcHRpb25zLFxuICAgICAgICAgICAgZmlsZU91dHB1dHMsXG4gICAgICAgICAgICBzdHJlYW1PdXRwdXRzLFxuICAgICAgICAgICAgc2VnbWVudE91dHB1dHMsXG4gICAgICAgICAgICBpbWFnZU91dHB1dHMsXG4gICAgICAgIH0pLnRvSnNvbigpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChzdmMsICdTdGFydFJvb21Db21wb3NpdGVFZ3Jlc3MnLCByZXEsIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21SZWNvcmQ6IHRydWUgfSkpO1xuICAgICAgICByZXR1cm4gRWdyZXNzSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB1cmwgLSB1cmxcbiAgICAgKiBAcGFyYW0gb3V0cHV0IC0gZmlsZSBvciBzdHJlYW0gb3V0cHV0XG4gICAgICogQHBhcmFtIG9wdHMgLSBXZWJPcHRpb25zXG4gICAgICovXG4gICAgYXN5bmMgc3RhcnRXZWJFZ3Jlc3ModXJsLCBvdXRwdXQsIG9wdHMpIHtcbiAgICAgICAgY29uc3QgYXVkaW9Pbmx5ID0gKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5hdWRpb09ubHkpIHx8IGZhbHNlO1xuICAgICAgICBjb25zdCB2aWRlb09ubHkgPSAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLnZpZGVvT25seSkgfHwgZmFsc2U7XG4gICAgICAgIGNvbnN0IGF3YWl0U3RhcnRTaWduYWwgPSAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmF3YWl0U3RhcnRTaWduYWwpIHx8IGZhbHNlO1xuICAgICAgICBjb25zdCB7IG91dHB1dDogbGVnYWN5T3V0cHV0LCBvcHRpb25zLCBmaWxlT3V0cHV0cywgc3RyZWFtT3V0cHV0cywgc2VnbWVudE91dHB1dHMsIGltYWdlT3V0cHV0cywgfSA9IHRoaXMuZ2V0T3V0cHV0UGFyYW1zKG91dHB1dCwgb3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmVuY29kaW5nT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHJlcSA9IG5ldyBXZWJFZ3Jlc3NSZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIGF1ZGlvT25seSxcbiAgICAgICAgICAgIHZpZGVvT25seSxcbiAgICAgICAgICAgIGF3YWl0U3RhcnRTaWduYWwsXG4gICAgICAgICAgICBvdXRwdXQ6IGxlZ2FjeU91dHB1dCxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBmaWxlT3V0cHV0cyxcbiAgICAgICAgICAgIHN0cmVhbU91dHB1dHMsXG4gICAgICAgICAgICBzZWdtZW50T3V0cHV0cyxcbiAgICAgICAgICAgIGltYWdlT3V0cHV0cyxcbiAgICAgICAgfSkudG9Kc29uKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ1N0YXJ0V2ViRWdyZXNzJywgcmVxLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tUmVjb3JkOiB0cnVlIH0pKTtcbiAgICAgICAgcmV0dXJuIEVncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHBvcnQgYSBwYXJ0aWNpcGFudCdzIGF1ZGlvIGFuZCB2aWRlbyB0cmFja3MsXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcm9vbU5hbWUgLSByb29tIG5hbWVcbiAgICAgKiBAcGFyYW0gb3V0cHV0IC0gb25lIG9yIG1vcmUgb3V0cHV0c1xuICAgICAqIEBwYXJhbSBvcHRzIC0gUGFydGljaXBhbnRFZ3Jlc3NPcHRpb25zXG4gICAgICovXG4gICAgYXN5bmMgc3RhcnRQYXJ0aWNpcGFudEVncmVzcyhyb29tTmFtZSwgaWRlbnRpdHksIG91dHB1dCwgb3B0cykge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGZpbGVPdXRwdXRzLCBzdHJlYW1PdXRwdXRzLCBzZWdtZW50T3V0cHV0cywgaW1hZ2VPdXRwdXRzIH0gPSB0aGlzLmdldE91dHB1dFBhcmFtcyhvdXRwdXQsIG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5lbmNvZGluZ09wdGlvbnMpO1xuICAgICAgICBjb25zdCByZXEgPSBuZXcgUGFydGljaXBhbnRFZ3Jlc3NSZXF1ZXN0KHtcbiAgICAgICAgICAgIHJvb21OYW1lLFxuICAgICAgICAgICAgaWRlbnRpdHksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgZmlsZU91dHB1dHMsXG4gICAgICAgICAgICBzdHJlYW1PdXRwdXRzLFxuICAgICAgICAgICAgc2VnbWVudE91dHB1dHMsXG4gICAgICAgICAgICBpbWFnZU91dHB1dHMsXG4gICAgICAgIH0pLnRvSnNvbigpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChzdmMsICdTdGFydFBhcnRpY2lwYW50RWdyZXNzJywgcmVxLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tUmVjb3JkOiB0cnVlIH0pKTtcbiAgICAgICAgcmV0dXJuIEVncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgIH1cbiAgICBhc3luYyBzdGFydFRyYWNrQ29tcG9zaXRlRWdyZXNzKHJvb21OYW1lLCBvdXRwdXQsIG9wdHNPckF1ZGlvVHJhY2tJZCwgdmlkZW9UcmFja0lkLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBhdWRpb1RyYWNrSWQ7XG4gICAgICAgIGlmIChvcHRzT3JBdWRpb1RyYWNrSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRzT3JBdWRpb1RyYWNrSWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgYXVkaW9UcmFja0lkID0gb3B0c09yQXVkaW9UcmFja0lkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0cyA9IG9wdHNPckF1ZGlvVHJhY2tJZDtcbiAgICAgICAgICAgICAgICBhdWRpb1RyYWNrSWQgPSBvcHRzLmF1ZGlvVHJhY2tJZDtcbiAgICAgICAgICAgICAgICB2aWRlb1RyYWNrSWQgPSBvcHRzLnZpZGVvVHJhY2tJZDtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0cy5lbmNvZGluZ09wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXVkaW9UcmFja0lkICE9PSBudWxsICYmIGF1ZGlvVHJhY2tJZCAhPT0gdm9pZCAwID8gYXVkaW9UcmFja0lkIDogKGF1ZGlvVHJhY2tJZCA9ICcnKTtcbiAgICAgICAgdmlkZW9UcmFja0lkICE9PSBudWxsICYmIHZpZGVvVHJhY2tJZCAhPT0gdm9pZCAwID8gdmlkZW9UcmFja0lkIDogKHZpZGVvVHJhY2tJZCA9ICcnKTtcbiAgICAgICAgY29uc3QgeyBvdXRwdXQ6IGxlZ2FjeU91dHB1dCwgb3B0aW9uczogZWdyZXNzT3B0aW9ucywgZmlsZU91dHB1dHMsIHN0cmVhbU91dHB1dHMsIHNlZ21lbnRPdXRwdXRzLCBpbWFnZU91dHB1dHMsIH0gPSB0aGlzLmdldE91dHB1dFBhcmFtcyhvdXRwdXQsIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCByZXEgPSBuZXcgVHJhY2tDb21wb3NpdGVFZ3Jlc3NSZXF1ZXN0KHtcbiAgICAgICAgICAgIHJvb21OYW1lLFxuICAgICAgICAgICAgYXVkaW9UcmFja0lkLFxuICAgICAgICAgICAgdmlkZW9UcmFja0lkLFxuICAgICAgICAgICAgb3V0cHV0OiBsZWdhY3lPdXRwdXQsXG4gICAgICAgICAgICBvcHRpb25zOiBlZ3Jlc3NPcHRpb25zLFxuICAgICAgICAgICAgZmlsZU91dHB1dHMsXG4gICAgICAgICAgICBzdHJlYW1PdXRwdXRzLFxuICAgICAgICAgICAgc2VnbWVudE91dHB1dHMsXG4gICAgICAgICAgICBpbWFnZU91dHB1dHMsXG4gICAgICAgIH0pLnRvSnNvbigpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChzdmMsICdTdGFydFRyYWNrQ29tcG9zaXRlRWdyZXNzJywgcmVxLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tUmVjb3JkOiB0cnVlIH0pKTtcbiAgICAgICAgcmV0dXJuIEVncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGlzRW5jb2RlZE91dHB1dHMob3V0cHV0KSB7XG4gICAgICAgIHJldHVybiAob3V0cHV0LmZpbGUgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgb3V0cHV0LnN0cmVhbSAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBvdXRwdXQuc2VnbWVudHMgIT09IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgaXNFbmNvZGVkRmlsZU91dHB1dChvdXRwdXQpIHtcbiAgICAgICAgcmV0dXJuIChvdXRwdXQuZmlsZXBhdGggIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgb3V0cHV0LmZpbGVUeXBlICE9PSB1bmRlZmluZWQpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGlzU2VnbWVudGVkRmlsZU91dHB1dChvdXRwdXQpIHtcbiAgICAgICAgcmV0dXJuIChvdXRwdXQuZmlsZW5hbWVQcmVmaXggIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgb3V0cHV0LnBsYXlsaXN0TmFtZSAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBvdXRwdXQuZmlsZW5hbWVTdWZmaXggIT09IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgaXNTdHJlYW1PdXRwdXQob3V0cHV0KSB7XG4gICAgICAgIHJldHVybiAob3V0cHV0LnByb3RvY29sICE9PSB1bmRlZmluZWQgfHwgb3V0cHV0LnVybHMgIT09IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGdldE91dHB1dFBhcmFtcyhvdXRwdXQsIG9wdHMpIHtcbiAgICAgICAgbGV0IGZpbGU7XG4gICAgICAgIGxldCBmaWxlT3V0cHV0cztcbiAgICAgICAgbGV0IHN0cmVhbTtcbiAgICAgICAgbGV0IHN0cmVhbU91dHB1dHM7XG4gICAgICAgIGxldCBzZWdtZW50cztcbiAgICAgICAgbGV0IHNlZ21lbnRPdXRwdXRzO1xuICAgICAgICBsZXQgaW1hZ2VPdXRwdXRzO1xuICAgICAgICBpZiAodGhpcy5pc0VuY29kZWRPdXRwdXRzKG91dHB1dCkpIHtcbiAgICAgICAgICAgIGlmIChvdXRwdXQuZmlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZmlsZU91dHB1dHMgPSBbb3V0cHV0LmZpbGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG91dHB1dC5zdHJlYW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN0cmVhbU91dHB1dHMgPSBbb3V0cHV0LnN0cmVhbV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3V0cHV0LnNlZ21lbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzZWdtZW50T3V0cHV0cyA9IFtvdXRwdXQuc2VnbWVudHNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG91dHB1dC5pbWFnZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGltYWdlT3V0cHV0cyA9IFtvdXRwdXQuaW1hZ2VzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzRW5jb2RlZEZpbGVPdXRwdXQob3V0cHV0KSkge1xuICAgICAgICAgICAgZmlsZSA9IG91dHB1dDtcbiAgICAgICAgICAgIGZpbGVPdXRwdXRzID0gW2ZpbGVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTZWdtZW50ZWRGaWxlT3V0cHV0KG91dHB1dCkpIHtcbiAgICAgICAgICAgIHNlZ21lbnRzID0gb3V0cHV0O1xuICAgICAgICAgICAgc2VnbWVudE91dHB1dHMgPSBbc2VnbWVudHNdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTdHJlYW1PdXRwdXQob3V0cHV0KSkge1xuICAgICAgICAgICAgc3RyZWFtID0gb3V0cHV0O1xuICAgICAgICAgICAgc3RyZWFtT3V0cHV0cyA9IFtzdHJlYW1dO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsZWdhY3lPdXRwdXQ7XG4gICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgICBsZWdhY3lPdXRwdXQgPSB7XG4gICAgICAgICAgICAgICAgY2FzZTogJ2ZpbGUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmaWxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHJlYW0pIHtcbiAgICAgICAgICAgIGxlZ2FjeU91dHB1dCA9IHtcbiAgICAgICAgICAgICAgICBjYXNlOiAnc3RyZWFtJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3RyZWFtLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzZWdtZW50cykge1xuICAgICAgICAgICAgbGVnYWN5T3V0cHV0ID0ge1xuICAgICAgICAgICAgICAgIGNhc2U6ICdzZWdtZW50cycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHNlZ21lbnRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZWdyZXNzT3B0aW9ucztcbiAgICAgICAgaWYgKG9wdHMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBlZ3Jlc3NPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjYXNlOiAncHJlc2V0JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9wdHMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVncmVzc09wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2U6ICdhZHZhbmNlZCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcHRzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG91dHB1dDogbGVnYWN5T3V0cHV0LFxuICAgICAgICAgICAgb3B0aW9uczogZWdyZXNzT3B0aW9ucyxcbiAgICAgICAgICAgIGZpbGVPdXRwdXRzLFxuICAgICAgICAgICAgc3RyZWFtT3V0cHV0cyxcbiAgICAgICAgICAgIHNlZ21lbnRPdXRwdXRzLFxuICAgICAgICAgICAgaW1hZ2VPdXRwdXRzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcm9vbU5hbWUgLSByb29tIG5hbWVcbiAgICAgKiBAcGFyYW0gb3V0cHV0IC0gZmlsZSBvciB3ZWJzb2NrZXQgb3V0cHV0XG4gICAgICogQHBhcmFtIHRyYWNrSWQgLSB0cmFjayBJZFxuICAgICAqL1xuICAgIGFzeW5jIHN0YXJ0VHJhY2tFZ3Jlc3Mocm9vbU5hbWUsIG91dHB1dCwgdHJhY2tJZCkge1xuICAgICAgICBsZXQgbGVnYWN5T3V0cHV0O1xuICAgICAgICBpZiAodHlwZW9mIG91dHB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGxlZ2FjeU91dHB1dCA9IHtcbiAgICAgICAgICAgICAgICBjYXNlOiAnd2Vic29ja2V0VXJsJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogb3V0cHV0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxlZ2FjeU91dHB1dCA9IHtcbiAgICAgICAgICAgICAgICBjYXNlOiAnZmlsZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG91dHB1dCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxID0gbmV3IFRyYWNrRWdyZXNzUmVxdWVzdCh7XG4gICAgICAgICAgICByb29tTmFtZSxcbiAgICAgICAgICAgIHRyYWNrSWQsXG4gICAgICAgICAgICBvdXRwdXQ6IGxlZ2FjeU91dHB1dCxcbiAgICAgICAgfSkudG9Kc29uKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ1N0YXJ0VHJhY2tFZ3Jlc3MnLCByZXEsIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21SZWNvcmQ6IHRydWUgfSkpO1xuICAgICAgICByZXR1cm4gRWdyZXNzSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBlZ3Jlc3NJZCAtXG4gICAgICogQHBhcmFtIGxheW91dCAtXG4gICAgICovXG4gICAgYXN5bmMgdXBkYXRlTGF5b3V0KGVncmVzc0lkLCBsYXlvdXQpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3Qoc3ZjLCAnVXBkYXRlTGF5b3V0JywgbmV3IFVwZGF0ZUxheW91dFJlcXVlc3QoeyBlZ3Jlc3NJZCwgbGF5b3V0IH0pLnRvSnNvbigpLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tUmVjb3JkOiB0cnVlIH0pKTtcbiAgICAgICAgcmV0dXJuIEVncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZWdyZXNzSWQgLVxuICAgICAqIEBwYXJhbSBhZGRPdXRwdXRVcmxzIC1cbiAgICAgKiBAcGFyYW0gcmVtb3ZlT3V0cHV0VXJscyAtXG4gICAgICovXG4gICAgYXN5bmMgdXBkYXRlU3RyZWFtKGVncmVzc0lkLCBhZGRPdXRwdXRVcmxzLCByZW1vdmVPdXRwdXRVcmxzKSB7XG4gICAgICAgIGFkZE91dHB1dFVybHMgIT09IG51bGwgJiYgYWRkT3V0cHV0VXJscyAhPT0gdm9pZCAwID8gYWRkT3V0cHV0VXJscyA6IChhZGRPdXRwdXRVcmxzID0gW10pO1xuICAgICAgICByZW1vdmVPdXRwdXRVcmxzICE9PSBudWxsICYmIHJlbW92ZU91dHB1dFVybHMgIT09IHZvaWQgMCA/IHJlbW92ZU91dHB1dFVybHMgOiAocmVtb3ZlT3V0cHV0VXJscyA9IFtdKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3Qoc3ZjLCAnVXBkYXRlU3RyZWFtJywgbmV3IFVwZGF0ZVN0cmVhbVJlcXVlc3QoeyBlZ3Jlc3NJZCwgYWRkT3V0cHV0VXJscywgcmVtb3ZlT3V0cHV0VXJscyB9KS50b0pzb24oKSwgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbVJlY29yZDogdHJ1ZSB9KSk7XG4gICAgICAgIHJldHVybiBFZ3Jlc3NJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHJvb21OYW1lIC0gbGlzdCBlZ3Jlc3MgZm9yIG9uZSByb29tIG9ubHlcbiAgICAgKi9cbiAgICBhc3luYyBsaXN0RWdyZXNzKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgcmVxID0ge307XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlcS5yb29tTmFtZSA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXEgPSBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ0xpc3RFZ3Jlc3MnLCBuZXcgTGlzdEVncmVzc1JlcXVlc3QocmVxKS50b0pzb24oKSwgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbVJlY29yZDogdHJ1ZSB9KSk7XG4gICAgICAgIHJldHVybiAoX2EgPSBMaXN0RWdyZXNzUmVzcG9uc2UuZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pLml0ZW1zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGVncmVzc0lkIC1cbiAgICAgKi9cbiAgICBhc3luYyBzdG9wRWdyZXNzKGVncmVzc0lkKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ1N0b3BFZ3Jlc3MnLCBuZXcgU3RvcEVncmVzc1JlcXVlc3QoeyBlZ3Jlc3NJZCB9KS50b0pzb24oKSwgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbVJlY29yZDogdHJ1ZSB9KSk7XG4gICAgICAgIHJldHVybiBFZ3Jlc3NJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FZ3Jlc3NDbGllbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/EgressClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/IngressClient.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/IngressClient.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IngressClient: () => (/* binding */ IngressClient)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/.pnpm/@livekit+protocol@1.24.0/node_modules/@livekit/protocol/src/index.js\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n\n\n\nconst svc = 'Ingress';\n/**\n * Client to access Ingress APIs\n */\nclass IngressClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    /**\n     * @param host - hostname including protocol. i.e. 'https://cluster.livekit.io'\n     * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n     * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n     */\n    constructor(host, apiKey, secret) {\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    /**\n     * @param inputType - protocol for the ingress\n     * @param opts - CreateIngressOptions\n     */\n    async createIngress(inputType, opts) {\n        let name = '';\n        let participantName = '';\n        let participantIdentity = '';\n        let bypassTranscoding = false;\n        let url = '';\n        if (opts == null) {\n            throw new Error('options dictionary is required');\n        }\n        const roomName = opts.roomName;\n        const enableTranscoding = opts.enableTranscoding;\n        const audio = opts.audio;\n        const video = opts.video;\n        const participantMetadata = opts.participantMetadata;\n        name = opts.name || '';\n        participantName = opts.participantName || '';\n        participantIdentity = opts.participantIdentity || '';\n        bypassTranscoding = opts.bypassTranscoding || false;\n        url = opts.url || '';\n        if (typeof roomName == 'undefined') {\n            throw new Error('required roomName option not provided');\n        }\n        if (participantIdentity == '') {\n            throw new Error('required participantIdentity option not provided');\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateIngressRequest({\n            inputType,\n            name,\n            roomName,\n            participantIdentity,\n            participantMetadata,\n            participantName,\n            bypassTranscoding,\n            enableTranscoding,\n            url,\n            audio,\n            video,\n        }).toJson();\n        const data = await this.rpc.request(svc, 'CreateIngress', req, await this.authHeader({ ingressAdmin: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * @param ingressId - ID of the ingress to update\n     * @param opts - UpdateIngressOptions\n     */\n    async updateIngress(ingressId, opts) {\n        const name = opts.name || '';\n        const roomName = opts.roomName || '';\n        const participantName = opts.participantName || '';\n        const participantIdentity = opts.participantIdentity || '';\n        const { participantMetadata } = opts;\n        const { audio, video, bypassTranscoding, enableTranscoding } = opts;\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateIngressRequest({\n            ingressId,\n            name,\n            roomName,\n            participantIdentity,\n            participantName,\n            participantMetadata,\n            bypassTranscoding,\n            enableTranscoding,\n            audio,\n            video,\n        }).toJson();\n        const data = await this.rpc.request(svc, 'UpdateIngress', req, await this.authHeader({ ingressAdmin: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * @param arg - list room name or options\n     */\n    async listIngress(arg) {\n        var _a;\n        let req = {};\n        if (typeof arg === 'string') {\n            req.roomName = arg;\n        }\n        else if (arg) {\n            req = arg;\n        }\n        const data = await this.rpc.request(svc, 'ListIngress', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListIngressRequest(req).toJson(), await this.authHeader({ ingressAdmin: true }));\n        return (_a = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListIngressResponse.fromJson(data, { ignoreUnknownFields: true }).items) !== null && _a !== void 0 ? _a : [];\n    }\n    /**\n     * @param ingressId - ingress to delete\n     */\n    async deleteIngress(ingressId) {\n        const data = await this.rpc.request(svc, 'DeleteIngress', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteIngressRequest({ ingressId }).toJson(), await this.authHeader({ ingressAdmin: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n}\n//# sourceMappingURL=IngressClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbGl2ZWtpdC1zZXJ2ZXItc2RrQDIuNy4yL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9JbmdyZXNzQ2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEo7QUFDakg7QUFDYztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRCQUE0Qix1REFBVztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrREFBUSxPQUFPLHdEQUFjO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtRUFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwrRkFBK0Ysb0JBQW9CO0FBQ25ILGVBQWUsMERBQVcsa0JBQWtCLDJCQUEyQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixzQkFBc0I7QUFDdEMsZ0JBQWdCLHFEQUFxRDtBQUNyRSx3QkFBd0IsbUVBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULCtGQUErRixvQkFBb0I7QUFDbkgsZUFBZSwwREFBVyxrQkFBa0IsMkJBQTJCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLGlFQUFrQix3Q0FBd0Msb0JBQW9CO0FBQ2xKLHFCQUFxQixrRUFBbUIsa0JBQWtCLDJCQUEyQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLG1FQUFvQixHQUFHLFdBQVcsb0NBQW9DLG9CQUFvQjtBQUNoSyxlQUFlLDBEQUFXLGtCQUFrQiwyQkFBMkI7QUFDdkU7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZWtpdC1tZWV0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2xpdmVraXQtc2VydmVyLXNka0AyLjcuMi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvSW5ncmVzc0NsaWVudC5qcz81YTllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENyZWF0ZUluZ3Jlc3NSZXF1ZXN0LCBEZWxldGVJbmdyZXNzUmVxdWVzdCwgSW5ncmVzc0luZm8sIExpc3RJbmdyZXNzUmVxdWVzdCwgTGlzdEluZ3Jlc3NSZXNwb25zZSwgVXBkYXRlSW5ncmVzc1JlcXVlc3QsIH0gZnJvbSAnQGxpdmVraXQvcHJvdG9jb2wnO1xuaW1wb3J0IFNlcnZpY2VCYXNlIGZyb20gJy4vU2VydmljZUJhc2UuanMnO1xuaW1wb3J0IHsgVHdpcnBScGMsIGxpdmVraXRQYWNrYWdlIH0gZnJvbSAnLi9Ud2lycFJQQy5qcyc7XG5jb25zdCBzdmMgPSAnSW5ncmVzcyc7XG4vKipcbiAqIENsaWVudCB0byBhY2Nlc3MgSW5ncmVzcyBBUElzXG4gKi9cbmV4cG9ydCBjbGFzcyBJbmdyZXNzQ2xpZW50IGV4dGVuZHMgU2VydmljZUJhc2Uge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBob3N0IC0gaG9zdG5hbWUgaW5jbHVkaW5nIHByb3RvY29sLiBpLmUuICdodHRwczovL2NsdXN0ZXIubGl2ZWtpdC5pbydcbiAgICAgKiBAcGFyYW0gYXBpS2V5IC0gQVBJIEtleSwgY2FuIGJlIHNldCBpbiBlbnYgdmFyIExJVkVLSVRfQVBJX0tFWVxuICAgICAqIEBwYXJhbSBzZWNyZXQgLSBBUEkgU2VjcmV0LCBjYW4gYmUgc2V0IGluIGVudiB2YXIgTElWRUtJVF9BUElfU0VDUkVUXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaG9zdCwgYXBpS2V5LCBzZWNyZXQpIHtcbiAgICAgICAgc3VwZXIoYXBpS2V5LCBzZWNyZXQpO1xuICAgICAgICB0aGlzLnJwYyA9IG5ldyBUd2lycFJwYyhob3N0LCBsaXZla2l0UGFja2FnZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBpbnB1dFR5cGUgLSBwcm90b2NvbCBmb3IgdGhlIGluZ3Jlc3NcbiAgICAgKiBAcGFyYW0gb3B0cyAtIENyZWF0ZUluZ3Jlc3NPcHRpb25zXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlSW5ncmVzcyhpbnB1dFR5cGUsIG9wdHMpIHtcbiAgICAgICAgbGV0IG5hbWUgPSAnJztcbiAgICAgICAgbGV0IHBhcnRpY2lwYW50TmFtZSA9ICcnO1xuICAgICAgICBsZXQgcGFydGljaXBhbnRJZGVudGl0eSA9ICcnO1xuICAgICAgICBsZXQgYnlwYXNzVHJhbnNjb2RpbmcgPSBmYWxzZTtcbiAgICAgICAgbGV0IHVybCA9ICcnO1xuICAgICAgICBpZiAob3B0cyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29wdGlvbnMgZGljdGlvbmFyeSBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJvb21OYW1lID0gb3B0cy5yb29tTmFtZTtcbiAgICAgICAgY29uc3QgZW5hYmxlVHJhbnNjb2RpbmcgPSBvcHRzLmVuYWJsZVRyYW5zY29kaW5nO1xuICAgICAgICBjb25zdCBhdWRpbyA9IG9wdHMuYXVkaW87XG4gICAgICAgIGNvbnN0IHZpZGVvID0gb3B0cy52aWRlbztcbiAgICAgICAgY29uc3QgcGFydGljaXBhbnRNZXRhZGF0YSA9IG9wdHMucGFydGljaXBhbnRNZXRhZGF0YTtcbiAgICAgICAgbmFtZSA9IG9wdHMubmFtZSB8fCAnJztcbiAgICAgICAgcGFydGljaXBhbnROYW1lID0gb3B0cy5wYXJ0aWNpcGFudE5hbWUgfHwgJyc7XG4gICAgICAgIHBhcnRpY2lwYW50SWRlbnRpdHkgPSBvcHRzLnBhcnRpY2lwYW50SWRlbnRpdHkgfHwgJyc7XG4gICAgICAgIGJ5cGFzc1RyYW5zY29kaW5nID0gb3B0cy5ieXBhc3NUcmFuc2NvZGluZyB8fCBmYWxzZTtcbiAgICAgICAgdXJsID0gb3B0cy51cmwgfHwgJyc7XG4gICAgICAgIGlmICh0eXBlb2Ygcm9vbU5hbWUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncmVxdWlyZWQgcm9vbU5hbWUgb3B0aW9uIG5vdCBwcm92aWRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWNpcGFudElkZW50aXR5ID09ICcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlcXVpcmVkIHBhcnRpY2lwYW50SWRlbnRpdHkgb3B0aW9uIG5vdCBwcm92aWRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcSA9IG5ldyBDcmVhdGVJbmdyZXNzUmVxdWVzdCh7XG4gICAgICAgICAgICBpbnB1dFR5cGUsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgcm9vbU5hbWUsXG4gICAgICAgICAgICBwYXJ0aWNpcGFudElkZW50aXR5LFxuICAgICAgICAgICAgcGFydGljaXBhbnRNZXRhZGF0YSxcbiAgICAgICAgICAgIHBhcnRpY2lwYW50TmFtZSxcbiAgICAgICAgICAgIGJ5cGFzc1RyYW5zY29kaW5nLFxuICAgICAgICAgICAgZW5hYmxlVHJhbnNjb2RpbmcsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBhdWRpbyxcbiAgICAgICAgICAgIHZpZGVvLFxuICAgICAgICB9KS50b0pzb24oKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3Qoc3ZjLCAnQ3JlYXRlSW5ncmVzcycsIHJlcSwgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgaW5ncmVzc0FkbWluOiB0cnVlIH0pKTtcbiAgICAgICAgcmV0dXJuIEluZ3Jlc3NJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGluZ3Jlc3NJZCAtIElEIG9mIHRoZSBpbmdyZXNzIHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSBvcHRzIC0gVXBkYXRlSW5ncmVzc09wdGlvbnNcbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGVJbmdyZXNzKGluZ3Jlc3NJZCwgb3B0cykge1xuICAgICAgICBjb25zdCBuYW1lID0gb3B0cy5uYW1lIHx8ICcnO1xuICAgICAgICBjb25zdCByb29tTmFtZSA9IG9wdHMucm9vbU5hbWUgfHwgJyc7XG4gICAgICAgIGNvbnN0IHBhcnRpY2lwYW50TmFtZSA9IG9wdHMucGFydGljaXBhbnROYW1lIHx8ICcnO1xuICAgICAgICBjb25zdCBwYXJ0aWNpcGFudElkZW50aXR5ID0gb3B0cy5wYXJ0aWNpcGFudElkZW50aXR5IHx8ICcnO1xuICAgICAgICBjb25zdCB7IHBhcnRpY2lwYW50TWV0YWRhdGEgfSA9IG9wdHM7XG4gICAgICAgIGNvbnN0IHsgYXVkaW8sIHZpZGVvLCBieXBhc3NUcmFuc2NvZGluZywgZW5hYmxlVHJhbnNjb2RpbmcgfSA9IG9wdHM7XG4gICAgICAgIGNvbnN0IHJlcSA9IG5ldyBVcGRhdGVJbmdyZXNzUmVxdWVzdCh7XG4gICAgICAgICAgICBpbmdyZXNzSWQsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgcm9vbU5hbWUsXG4gICAgICAgICAgICBwYXJ0aWNpcGFudElkZW50aXR5LFxuICAgICAgICAgICAgcGFydGljaXBhbnROYW1lLFxuICAgICAgICAgICAgcGFydGljaXBhbnRNZXRhZGF0YSxcbiAgICAgICAgICAgIGJ5cGFzc1RyYW5zY29kaW5nLFxuICAgICAgICAgICAgZW5hYmxlVHJhbnNjb2RpbmcsXG4gICAgICAgICAgICBhdWRpbyxcbiAgICAgICAgICAgIHZpZGVvLFxuICAgICAgICB9KS50b0pzb24oKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3Qoc3ZjLCAnVXBkYXRlSW5ncmVzcycsIHJlcSwgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgaW5ncmVzc0FkbWluOiB0cnVlIH0pKTtcbiAgICAgICAgcmV0dXJuIEluZ3Jlc3NJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGFyZyAtIGxpc3Qgcm9vbSBuYW1lIG9yIG9wdGlvbnNcbiAgICAgKi9cbiAgICBhc3luYyBsaXN0SW5ncmVzcyhhcmcpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgcmVxID0ge307XG4gICAgICAgIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmVxLnJvb21OYW1lID0gYXJnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFyZykge1xuICAgICAgICAgICAgcmVxID0gYXJnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ0xpc3RJbmdyZXNzJywgbmV3IExpc3RJbmdyZXNzUmVxdWVzdChyZXEpLnRvSnNvbigpLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyBpbmdyZXNzQWRtaW46IHRydWUgfSkpO1xuICAgICAgICByZXR1cm4gKF9hID0gTGlzdEluZ3Jlc3NSZXNwb25zZS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSkuaXRlbXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaW5ncmVzc0lkIC0gaW5ncmVzcyB0byBkZWxldGVcbiAgICAgKi9cbiAgICBhc3luYyBkZWxldGVJbmdyZXNzKGluZ3Jlc3NJZCkge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChzdmMsICdEZWxldGVJbmdyZXNzJywgbmV3IERlbGV0ZUluZ3Jlc3NSZXF1ZXN0KHsgaW5ncmVzc0lkIH0pLnRvSnNvbigpLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyBpbmdyZXNzQWRtaW46IHRydWUgfSkpO1xuICAgICAgICByZXR1cm4gSW5ncmVzc0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUluZ3Jlc3NDbGllbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/IngressClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/RoomServiceClient.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/RoomServiceClient.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RoomServiceClient: () => (/* binding */ RoomServiceClient)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/.pnpm/@livekit+protocol@1.24.0/node_modules/@livekit/protocol/src/index.js\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n\n\n\nconst svc = 'RoomService';\n/**\n * Client to access Room APIs\n */\nclass RoomServiceClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    /**\n     *\n     * @param host - hostname including protocol. i.e. 'https://cluster.livekit.io'\n     * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n     * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n     */\n    constructor(host, apiKey, secret) {\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    /**\n     * Creates a new room. Explicit room creation is not required, since rooms will\n     * be automatically created when the first participant joins. This method can be\n     * used to customize room settings.\n     * @param options -\n     */\n    async createRoom(options) {\n        const data = await this.rpc.request(svc, 'CreateRoom', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateRoomRequest(options).toJson(), await this.authHeader({ roomCreate: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.Room.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * List active rooms\n     * @param names - when undefined or empty, list all rooms.\n     *                otherwise returns rooms with matching names\n     * @returns\n     */\n    async listRooms(names) {\n        var _a;\n        const data = await this.rpc.request(svc, 'ListRooms', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListRoomsRequest({ names: names !== null && names !== void 0 ? names : [] }).toJson(), await this.authHeader({ roomList: true }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListRoomsResponse.fromJson(data, { ignoreUnknownFields: true });\n        return (_a = res.rooms) !== null && _a !== void 0 ? _a : [];\n    }\n    async deleteRoom(room) {\n        await this.rpc.request(svc, 'DeleteRoom', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteRoomRequest({ room }).toJson(), await this.authHeader({ roomCreate: true }));\n    }\n    /**\n     * Update metadata of a room\n     * @param room - name of the room\n     * @param metadata - the new metadata for the room\n     */\n    async updateRoomMetadata(room, metadata) {\n        const data = await this.rpc.request(svc, 'UpdateRoomMetadata', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateRoomMetadataRequest({ room, metadata }).toJson(), await this.authHeader({ roomAdmin: true, room }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.Room.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * List participants in a room\n     * @param room - name of the room\n     */\n    async listParticipants(room) {\n        var _a;\n        const data = await this.rpc.request(svc, 'ListParticipants', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListParticipantsRequest({ room }).toJson(), await this.authHeader({ roomAdmin: true, room }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListParticipantsResponse.fromJson(data, { ignoreUnknownFields: true });\n        return (_a = res.participants) !== null && _a !== void 0 ? _a : [];\n    }\n    /**\n     * Get information on a specific participant, including the tracks that participant\n     * has published\n     * @param room - name of the room\n     * @param identity - identity of the participant to return\n     */\n    async getParticipant(room, identity) {\n        const data = await this.rpc.request(svc, 'GetParticipant', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomParticipantIdentity({ room, identity }).toJson(), await this.authHeader({ roomAdmin: true, room }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * Removes a participant in the room. This will disconnect the participant\n     * and will emit a Disconnected event for that participant.\n     * Even after being removed, the participant can still re-join the room.\n     * @param room -\n     * @param identity -\n     */\n    async removeParticipant(room, identity) {\n        await this.rpc.request(svc, 'RemoveParticipant', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomParticipantIdentity({ room, identity }).toJson(), await this.authHeader({ roomAdmin: true, room }));\n    }\n    /**\n     * Mutes a track that the participant has published.\n     * @param room -\n     * @param identity -\n     * @param trackSid - sid of the track to be muted\n     * @param muted - true to mute, false to unmute\n     */\n    async mutePublishedTrack(room, identity, trackSid, muted) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.MuteRoomTrackRequest({\n            room,\n            identity,\n            trackSid,\n            muted,\n        }).toJson();\n        const data = await this.rpc.request(svc, 'MutePublishedTrack', req, await this.authHeader({ roomAdmin: true, room }));\n        const res = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.MuteRoomTrackResponse.fromJson(data, { ignoreUnknownFields: true });\n        return res.track;\n    }\n    async updateParticipant(room, identity, metadataOrOptions, maybePermission, maybeName) {\n        const hasOptions = typeof metadataOrOptions === 'object';\n        const metadata = hasOptions ? metadataOrOptions === null || metadataOrOptions === void 0 ? void 0 : metadataOrOptions.metadata : metadataOrOptions;\n        const permission = hasOptions ? metadataOrOptions.permission : maybePermission;\n        const name = hasOptions ? metadataOrOptions.name : maybeName;\n        const attributes = hasOptions\n            ? metadataOrOptions.attributes\n            : {};\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateParticipantRequest({\n            room,\n            identity,\n            attributes,\n            metadata,\n            name,\n        });\n        if (permission) {\n            req.permission = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantPermission(permission);\n        }\n        const data = await this.rpc.request(svc, 'UpdateParticipant', req.toJson(), await this.authHeader({ roomAdmin: true, room }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * Updates a participant's subscription to tracks\n     * @param room -\n     * @param identity -\n     * @param trackSids -\n     * @param subscribe - true to subscribe, false to unsubscribe\n     */\n    async updateSubscriptions(room, identity, trackSids, subscribe) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.UpdateSubscriptionsRequest({\n            room,\n            identity,\n            trackSids,\n            subscribe,\n            participantTracks: [],\n        }).toJson();\n        await this.rpc.request(svc, 'UpdateSubscriptions', req, await this.authHeader({ roomAdmin: true, room }));\n    }\n    async sendData(room, data, kind, options = {}) {\n        const destinationSids = Array.isArray(options) ? options : options.destinationSids;\n        const topic = Array.isArray(options) ? undefined : options.topic;\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SendDataRequest({\n            room,\n            data,\n            kind,\n            destinationSids: destinationSids !== null && destinationSids !== void 0 ? destinationSids : [],\n            topic,\n        });\n        if (!Array.isArray(options) && options.destinationIdentities) {\n            req.destinationIdentities = options.destinationIdentities;\n        }\n        await this.rpc.request(svc, 'SendData', req.toJson(), await this.authHeader({ roomAdmin: true, room }));\n    }\n}\n//# sourceMappingURL=RoomServiceClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbGl2ZWtpdC1zZXJ2ZXItc2RrQDIuNy4yL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9Sb29tU2VydmljZUNsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdYO0FBQzdVO0FBQ2M7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxnQ0FBZ0MsdURBQVc7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrREFBUSxPQUFPLHdEQUFjO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsZ0VBQWlCLDRDQUE0QyxrQkFBa0I7QUFDbEosZUFBZSxtREFBSSxrQkFBa0IsMkJBQTJCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSwrREFBZ0IsR0FBRyx3REFBd0Qsb0NBQW9DLGdCQUFnQjtBQUNqTSxvQkFBb0IsZ0VBQWlCLGtCQUFrQiwyQkFBMkI7QUFDbEY7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGdFQUFpQixHQUFHLE1BQU0sb0NBQW9DLGtCQUFrQjtBQUN0STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSx3RUFBeUIsR0FBRyxnQkFBZ0Isb0NBQW9DLHVCQUF1QjtBQUNsTCxlQUFlLG1EQUFJLGtCQUFrQiwyQkFBMkI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsc0VBQXVCLEdBQUcsTUFBTSxvQ0FBb0MsdUJBQXVCO0FBQ3BLLG9CQUFvQix1RUFBd0Isa0JBQWtCLDJCQUEyQjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsc0VBQXVCLEdBQUcsZ0JBQWdCLG9DQUFvQyx1QkFBdUI7QUFDNUssZUFBZSw4REFBZSxrQkFBa0IsMkJBQTJCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxzRUFBdUIsR0FBRyxnQkFBZ0Isb0NBQW9DLHVCQUF1QjtBQUNsSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUVBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULG9HQUFvRyx1QkFBdUI7QUFDM0gsb0JBQW9CLG9FQUFxQixrQkFBa0IsMkJBQTJCO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVFQUF3QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsaUNBQWlDLG9FQUFxQjtBQUN0RDtBQUNBLDRHQUE0Ryx1QkFBdUI7QUFDbkksZUFBZSw4REFBZSxrQkFBa0IsMkJBQTJCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5RUFBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCx3RkFBd0YsdUJBQXVCO0FBQy9HO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQSx3QkFBd0IsOERBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsdUJBQXVCO0FBQzdHO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2xpdmVraXQtbWVldC8uL25vZGVfbW9kdWxlcy8ucG5wbS9saXZla2l0LXNlcnZlci1zZGtAMi43LjIvbm9kZV9tb2R1bGVzL2xpdmVraXQtc2VydmVyLXNkay9kaXN0L1Jvb21TZXJ2aWNlQ2xpZW50LmpzP2FiZDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ3JlYXRlUm9vbVJlcXVlc3QsIERlbGV0ZVJvb21SZXF1ZXN0LCBMaXN0UGFydGljaXBhbnRzUmVxdWVzdCwgTGlzdFBhcnRpY2lwYW50c1Jlc3BvbnNlLCBMaXN0Um9vbXNSZXF1ZXN0LCBMaXN0Um9vbXNSZXNwb25zZSwgTXV0ZVJvb21UcmFja1JlcXVlc3QsIE11dGVSb29tVHJhY2tSZXNwb25zZSwgUGFydGljaXBhbnRJbmZvLCBQYXJ0aWNpcGFudFBlcm1pc3Npb24sIFJvb20sIFJvb21QYXJ0aWNpcGFudElkZW50aXR5LCBTZW5kRGF0YVJlcXVlc3QsIFVwZGF0ZVBhcnRpY2lwYW50UmVxdWVzdCwgVXBkYXRlUm9vbU1ldGFkYXRhUmVxdWVzdCwgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsIH0gZnJvbSAnQGxpdmVraXQvcHJvdG9jb2wnO1xuaW1wb3J0IFNlcnZpY2VCYXNlIGZyb20gJy4vU2VydmljZUJhc2UuanMnO1xuaW1wb3J0IHsgVHdpcnBScGMsIGxpdmVraXRQYWNrYWdlIH0gZnJvbSAnLi9Ud2lycFJQQy5qcyc7XG5jb25zdCBzdmMgPSAnUm9vbVNlcnZpY2UnO1xuLyoqXG4gKiBDbGllbnQgdG8gYWNjZXNzIFJvb20gQVBJc1xuICovXG5leHBvcnQgY2xhc3MgUm9vbVNlcnZpY2VDbGllbnQgZXh0ZW5kcyBTZXJ2aWNlQmFzZSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaG9zdCAtIGhvc3RuYW1lIGluY2x1ZGluZyBwcm90b2NvbC4gaS5lLiAnaHR0cHM6Ly9jbHVzdGVyLmxpdmVraXQuaW8nXG4gICAgICogQHBhcmFtIGFwaUtleSAtIEFQSSBLZXksIGNhbiBiZSBzZXQgaW4gZW52IHZhciBMSVZFS0lUX0FQSV9LRVlcbiAgICAgKiBAcGFyYW0gc2VjcmV0IC0gQVBJIFNlY3JldCwgY2FuIGJlIHNldCBpbiBlbnYgdmFyIExJVkVLSVRfQVBJX1NFQ1JFVFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGhvc3QsIGFwaUtleSwgc2VjcmV0KSB7XG4gICAgICAgIHN1cGVyKGFwaUtleSwgc2VjcmV0KTtcbiAgICAgICAgdGhpcy5ycGMgPSBuZXcgVHdpcnBScGMoaG9zdCwgbGl2ZWtpdFBhY2thZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvb20uIEV4cGxpY2l0IHJvb20gY3JlYXRpb24gaXMgbm90IHJlcXVpcmVkLCBzaW5jZSByb29tcyB3aWxsXG4gICAgICogYmUgYXV0b21hdGljYWxseSBjcmVhdGVkIHdoZW4gdGhlIGZpcnN0IHBhcnRpY2lwYW50IGpvaW5zLiBUaGlzIG1ldGhvZCBjYW4gYmVcbiAgICAgKiB1c2VkIHRvIGN1c3RvbWl6ZSByb29tIHNldHRpbmdzLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC1cbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVSb29tKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3Qoc3ZjLCAnQ3JlYXRlUm9vbScsIG5ldyBDcmVhdGVSb29tUmVxdWVzdChvcHRpb25zKS50b0pzb24oKSwgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUNyZWF0ZTogdHJ1ZSB9KSk7XG4gICAgICAgIHJldHVybiBSb29tLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCBhY3RpdmUgcm9vbXNcbiAgICAgKiBAcGFyYW0gbmFtZXMgLSB3aGVuIHVuZGVmaW5lZCBvciBlbXB0eSwgbGlzdCBhbGwgcm9vbXMuXG4gICAgICogICAgICAgICAgICAgICAgb3RoZXJ3aXNlIHJldHVybnMgcm9vbXMgd2l0aCBtYXRjaGluZyBuYW1lc1xuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgYXN5bmMgbGlzdFJvb21zKG5hbWVzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3Qoc3ZjLCAnTGlzdFJvb21zJywgbmV3IExpc3RSb29tc1JlcXVlc3QoeyBuYW1lczogbmFtZXMgIT09IG51bGwgJiYgbmFtZXMgIT09IHZvaWQgMCA/IG5hbWVzIDogW10gfSkudG9Kc29uKCksIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21MaXN0OiB0cnVlIH0pKTtcbiAgICAgICAgY29uc3QgcmVzID0gTGlzdFJvb21zUmVzcG9uc2UuZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gKF9hID0gcmVzLnJvb21zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlUm9vbShyb29tKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucnBjLnJlcXVlc3Qoc3ZjLCAnRGVsZXRlUm9vbScsIG5ldyBEZWxldGVSb29tUmVxdWVzdCh7IHJvb20gfSkudG9Kc29uKCksIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21DcmVhdGU6IHRydWUgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgbWV0YWRhdGEgb2YgYSByb29tXG4gICAgICogQHBhcmFtIHJvb20gLSBuYW1lIG9mIHRoZSByb29tXG4gICAgICogQHBhcmFtIG1ldGFkYXRhIC0gdGhlIG5ldyBtZXRhZGF0YSBmb3IgdGhlIHJvb21cbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGVSb29tTWV0YWRhdGEocm9vbSwgbWV0YWRhdGEpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3Qoc3ZjLCAnVXBkYXRlUm9vbU1ldGFkYXRhJywgbmV3IFVwZGF0ZVJvb21NZXRhZGF0YVJlcXVlc3QoeyByb29tLCBtZXRhZGF0YSB9KS50b0pzb24oKSwgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tIH0pKTtcbiAgICAgICAgcmV0dXJuIFJvb20uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0IHBhcnRpY2lwYW50cyBpbiBhIHJvb21cbiAgICAgKiBAcGFyYW0gcm9vbSAtIG5hbWUgb2YgdGhlIHJvb21cbiAgICAgKi9cbiAgICBhc3luYyBsaXN0UGFydGljaXBhbnRzKHJvb20pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChzdmMsICdMaXN0UGFydGljaXBhbnRzJywgbmV3IExpc3RQYXJ0aWNpcGFudHNSZXF1ZXN0KHsgcm9vbSB9KS50b0pzb24oKSwgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tIH0pKTtcbiAgICAgICAgY29uc3QgcmVzID0gTGlzdFBhcnRpY2lwYW50c1Jlc3BvbnNlLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHJlcy5wYXJ0aWNpcGFudHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgaW5mb3JtYXRpb24gb24gYSBzcGVjaWZpYyBwYXJ0aWNpcGFudCwgaW5jbHVkaW5nIHRoZSB0cmFja3MgdGhhdCBwYXJ0aWNpcGFudFxuICAgICAqIGhhcyBwdWJsaXNoZWRcbiAgICAgKiBAcGFyYW0gcm9vbSAtIG5hbWUgb2YgdGhlIHJvb21cbiAgICAgKiBAcGFyYW0gaWRlbnRpdHkgLSBpZGVudGl0eSBvZiB0aGUgcGFydGljaXBhbnQgdG8gcmV0dXJuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0UGFydGljaXBhbnQocm9vbSwgaWRlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3Qoc3ZjLCAnR2V0UGFydGljaXBhbnQnLCBuZXcgUm9vbVBhcnRpY2lwYW50SWRlbnRpdHkoeyByb29tLCBpZGVudGl0eSB9KS50b0pzb24oKSwgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tIH0pKTtcbiAgICAgICAgcmV0dXJuIFBhcnRpY2lwYW50SW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBwYXJ0aWNpcGFudCBpbiB0aGUgcm9vbS4gVGhpcyB3aWxsIGRpc2Nvbm5lY3QgdGhlIHBhcnRpY2lwYW50XG4gICAgICogYW5kIHdpbGwgZW1pdCBhIERpc2Nvbm5lY3RlZCBldmVudCBmb3IgdGhhdCBwYXJ0aWNpcGFudC5cbiAgICAgKiBFdmVuIGFmdGVyIGJlaW5nIHJlbW92ZWQsIHRoZSBwYXJ0aWNpcGFudCBjYW4gc3RpbGwgcmUtam9pbiB0aGUgcm9vbS5cbiAgICAgKiBAcGFyYW0gcm9vbSAtXG4gICAgICogQHBhcmFtIGlkZW50aXR5IC1cbiAgICAgKi9cbiAgICBhc3luYyByZW1vdmVQYXJ0aWNpcGFudChyb29tLCBpZGVudGl0eSkge1xuICAgICAgICBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ1JlbW92ZVBhcnRpY2lwYW50JywgbmV3IFJvb21QYXJ0aWNpcGFudElkZW50aXR5KHsgcm9vbSwgaWRlbnRpdHkgfSkudG9Kc29uKCksIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21BZG1pbjogdHJ1ZSwgcm9vbSB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE11dGVzIGEgdHJhY2sgdGhhdCB0aGUgcGFydGljaXBhbnQgaGFzIHB1Ymxpc2hlZC5cbiAgICAgKiBAcGFyYW0gcm9vbSAtXG4gICAgICogQHBhcmFtIGlkZW50aXR5IC1cbiAgICAgKiBAcGFyYW0gdHJhY2tTaWQgLSBzaWQgb2YgdGhlIHRyYWNrIHRvIGJlIG11dGVkXG4gICAgICogQHBhcmFtIG11dGVkIC0gdHJ1ZSB0byBtdXRlLCBmYWxzZSB0byB1bm11dGVcbiAgICAgKi9cbiAgICBhc3luYyBtdXRlUHVibGlzaGVkVHJhY2socm9vbSwgaWRlbnRpdHksIHRyYWNrU2lkLCBtdXRlZCkge1xuICAgICAgICBjb25zdCByZXEgPSBuZXcgTXV0ZVJvb21UcmFja1JlcXVlc3Qoe1xuICAgICAgICAgICAgcm9vbSxcbiAgICAgICAgICAgIGlkZW50aXR5LFxuICAgICAgICAgICAgdHJhY2tTaWQsXG4gICAgICAgICAgICBtdXRlZCxcbiAgICAgICAgfSkudG9Kc29uKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ011dGVQdWJsaXNoZWRUcmFjaycsIHJlcSwgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHsgcm9vbUFkbWluOiB0cnVlLCByb29tIH0pKTtcbiAgICAgICAgY29uc3QgcmVzID0gTXV0ZVJvb21UcmFja1Jlc3BvbnNlLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuIHJlcy50cmFjaztcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlUGFydGljaXBhbnQocm9vbSwgaWRlbnRpdHksIG1ldGFkYXRhT3JPcHRpb25zLCBtYXliZVBlcm1pc3Npb24sIG1heWJlTmFtZSkge1xuICAgICAgICBjb25zdCBoYXNPcHRpb25zID0gdHlwZW9mIG1ldGFkYXRhT3JPcHRpb25zID09PSAnb2JqZWN0JztcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBoYXNPcHRpb25zID8gbWV0YWRhdGFPck9wdGlvbnMgPT09IG51bGwgfHwgbWV0YWRhdGFPck9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1ldGFkYXRhT3JPcHRpb25zLm1ldGFkYXRhIDogbWV0YWRhdGFPck9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBlcm1pc3Npb24gPSBoYXNPcHRpb25zID8gbWV0YWRhdGFPck9wdGlvbnMucGVybWlzc2lvbiA6IG1heWJlUGVybWlzc2lvbjtcbiAgICAgICAgY29uc3QgbmFtZSA9IGhhc09wdGlvbnMgPyBtZXRhZGF0YU9yT3B0aW9ucy5uYW1lIDogbWF5YmVOYW1lO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gaGFzT3B0aW9uc1xuICAgICAgICAgICAgPyBtZXRhZGF0YU9yT3B0aW9ucy5hdHRyaWJ1dGVzXG4gICAgICAgICAgICA6IHt9O1xuICAgICAgICBjb25zdCByZXEgPSBuZXcgVXBkYXRlUGFydGljaXBhbnRSZXF1ZXN0KHtcbiAgICAgICAgICAgIHJvb20sXG4gICAgICAgICAgICBpZGVudGl0eSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocGVybWlzc2lvbikge1xuICAgICAgICAgICAgcmVxLnBlcm1pc3Npb24gPSBuZXcgUGFydGljaXBhbnRQZXJtaXNzaW9uKHBlcm1pc3Npb24pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ1VwZGF0ZVBhcnRpY2lwYW50JywgcmVxLnRvSnNvbigpLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb20gfSkpO1xuICAgICAgICByZXR1cm4gUGFydGljaXBhbnRJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBhIHBhcnRpY2lwYW50J3Mgc3Vic2NyaXB0aW9uIHRvIHRyYWNrc1xuICAgICAqIEBwYXJhbSByb29tIC1cbiAgICAgKiBAcGFyYW0gaWRlbnRpdHkgLVxuICAgICAqIEBwYXJhbSB0cmFja1NpZHMgLVxuICAgICAqIEBwYXJhbSBzdWJzY3JpYmUgLSB0cnVlIHRvIHN1YnNjcmliZSwgZmFsc2UgdG8gdW5zdWJzY3JpYmVcbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGVTdWJzY3JpcHRpb25zKHJvb20sIGlkZW50aXR5LCB0cmFja1NpZHMsIHN1YnNjcmliZSkge1xuICAgICAgICBjb25zdCByZXEgPSBuZXcgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3Qoe1xuICAgICAgICAgICAgcm9vbSxcbiAgICAgICAgICAgIGlkZW50aXR5LFxuICAgICAgICAgICAgdHJhY2tTaWRzLFxuICAgICAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICAgICAgcGFydGljaXBhbnRUcmFja3M6IFtdLFxuICAgICAgICB9KS50b0pzb24oKTtcbiAgICAgICAgYXdhaXQgdGhpcy5ycGMucmVxdWVzdChzdmMsICdVcGRhdGVTdWJzY3JpcHRpb25zJywgcmVxLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb20gfSkpO1xuICAgIH1cbiAgICBhc3luYyBzZW5kRGF0YShyb29tLCBkYXRhLCBraW5kLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25TaWRzID0gQXJyYXkuaXNBcnJheShvcHRpb25zKSA/IG9wdGlvbnMgOiBvcHRpb25zLmRlc3RpbmF0aW9uU2lkcztcbiAgICAgICAgY29uc3QgdG9waWMgPSBBcnJheS5pc0FycmF5KG9wdGlvbnMpID8gdW5kZWZpbmVkIDogb3B0aW9ucy50b3BpYztcbiAgICAgICAgY29uc3QgcmVxID0gbmV3IFNlbmREYXRhUmVxdWVzdCh7XG4gICAgICAgICAgICByb29tLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICBkZXN0aW5hdGlvblNpZHM6IGRlc3RpbmF0aW9uU2lkcyAhPT0gbnVsbCAmJiBkZXN0aW5hdGlvblNpZHMgIT09IHZvaWQgMCA/IGRlc3RpbmF0aW9uU2lkcyA6IFtdLFxuICAgICAgICAgICAgdG9waWMsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob3B0aW9ucykgJiYgb3B0aW9ucy5kZXN0aW5hdGlvbklkZW50aXRpZXMpIHtcbiAgICAgICAgICAgIHJlcS5kZXN0aW5hdGlvbklkZW50aXRpZXMgPSBvcHRpb25zLmRlc3RpbmF0aW9uSWRlbnRpdGllcztcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ1NlbmREYXRhJywgcmVxLnRvSnNvbigpLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoeyByb29tQWRtaW46IHRydWUsIHJvb20gfSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJvb21TZXJ2aWNlQ2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/RoomServiceClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/ServiceBase.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/ServiceBase.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ServiceBase)\n/* harmony export */ });\n/* harmony import */ var _AccessToken_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AccessToken.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/AccessToken.js\");\n// SPDX-FileCopyrightText: 2024 LiveKit, Inc.\n//\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * Utilities to handle authentication\n */\nclass ServiceBase {\n    /**\n     * @param apiKey - API Key.\n     * @param secret - API Secret.\n     * @param ttl - token TTL\n     */\n    constructor(apiKey, secret, ttl) {\n        this.apiKey = apiKey;\n        this.secret = secret;\n        this.ttl = ttl || '10m';\n    }\n    async authHeader(grant, sip) {\n        const at = new _AccessToken_js__WEBPACK_IMPORTED_MODULE_0__.AccessToken(this.apiKey, this.secret, { ttl: this.ttl });\n        at.addGrant(grant);\n        if (sip) {\n            at.addSIPGrant(sip);\n        }\n        return {\n            Authorization: `Bearer ${await at.toJwt()}`,\n        };\n    }\n}\n//# sourceMappingURL=ServiceBase.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbGl2ZWtpdC1zZXJ2ZXItc2RrQDIuNy4yL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9TZXJ2aWNlQmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUMrQztBQUMvQztBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsd0RBQVcsNkJBQTZCLGVBQWU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxpQkFBaUI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saXZla2l0LW1lZXQvLi9ub2RlX21vZHVsZXMvLnBucG0vbGl2ZWtpdC1zZXJ2ZXItc2RrQDIuNy4yL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9TZXJ2aWNlQmFzZS5qcz9iMDRjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IDIwMjQgTGl2ZUtpdCwgSW5jLlxuLy9cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5pbXBvcnQgeyBBY2Nlc3NUb2tlbiB9IGZyb20gJy4vQWNjZXNzVG9rZW4uanMnO1xuLyoqXG4gKiBVdGlsaXRpZXMgdG8gaGFuZGxlIGF1dGhlbnRpY2F0aW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2VCYXNlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYXBpS2V5IC0gQVBJIEtleS5cbiAgICAgKiBAcGFyYW0gc2VjcmV0IC0gQVBJIFNlY3JldC5cbiAgICAgKiBAcGFyYW0gdHRsIC0gdG9rZW4gVFRMXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYXBpS2V5LCBzZWNyZXQsIHR0bCkge1xuICAgICAgICB0aGlzLmFwaUtleSA9IGFwaUtleTtcbiAgICAgICAgdGhpcy5zZWNyZXQgPSBzZWNyZXQ7XG4gICAgICAgIHRoaXMudHRsID0gdHRsIHx8ICcxMG0nO1xuICAgIH1cbiAgICBhc3luYyBhdXRoSGVhZGVyKGdyYW50LCBzaXApIHtcbiAgICAgICAgY29uc3QgYXQgPSBuZXcgQWNjZXNzVG9rZW4odGhpcy5hcGlLZXksIHRoaXMuc2VjcmV0LCB7IHR0bDogdGhpcy50dGwgfSk7XG4gICAgICAgIGF0LmFkZEdyYW50KGdyYW50KTtcbiAgICAgICAgaWYgKHNpcCkge1xuICAgICAgICAgICAgYXQuYWRkU0lQR3JhbnQoc2lwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2F3YWl0IGF0LnRvSnd0KCl9YCxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZXJ2aWNlQmFzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/ServiceBase.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/SipClient.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/SipClient.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SipClient: () => (/* binding */ SipClient)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/.pnpm/@livekit+protocol@1.24.0/node_modules/@livekit/protocol/src/index.js\");\n/* harmony import */ var _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ServiceBase.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/ServiceBase.js\");\n/* harmony import */ var _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TwirpRPC.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/TwirpRPC.js\");\n// SPDX-FileCopyrightText: 2024 LiveKit, Inc.\n//\n// SPDX-License-Identifier: Apache-2.0\n\n\n\nconst svc = 'SIP';\n/**\n * Client to access Egress APIs\n */\nclass SipClient extends _ServiceBase_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    /**\n     * @param host - hostname including protocol. i.e. 'https://cluster.livekit.io'\n     * @param apiKey - API Key, can be set in env var LIVEKIT_API_KEY\n     * @param secret - API Secret, can be set in env var LIVEKIT_API_SECRET\n     */\n    constructor(host, apiKey, secret) {\n        super(apiKey, secret);\n        this.rpc = new _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.TwirpRpc(host, _TwirpRPC_js__WEBPACK_IMPORTED_MODULE_2__.livekitPackage);\n    }\n    /**\n     * @param number - phone number of the trunk\n     * @param opts - CreateSipTrunkOptions\n     * @deprecated use `createSipInboundTrunk` or `createSipOutboundTrunk`\n     */\n    async createSipTrunk(number, opts) {\n        let inboundAddresses;\n        let inboundNumbers;\n        let inboundUsername = '';\n        let inboundPassword = '';\n        let outboundAddress = '';\n        let outboundUsername = '';\n        let outboundPassword = '';\n        let name = '';\n        let metadata = '';\n        if (opts !== undefined) {\n            inboundAddresses = opts.inbound_addresses;\n            inboundNumbers = opts.inbound_numbers;\n            inboundUsername = opts.inbound_username || '';\n            inboundPassword = opts.inbound_password || '';\n            outboundAddress = opts.outbound_address || '';\n            outboundUsername = opts.outbound_username || '';\n            outboundPassword = opts.outbound_password || '';\n            name = opts.name || '';\n            metadata = opts.metadata || '';\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPTrunkRequest({\n            name: name,\n            metadata: metadata,\n            inboundAddresses: inboundAddresses,\n            inboundNumbers: inboundNumbers,\n            inboundUsername: inboundUsername,\n            inboundPassword: inboundPassword,\n            outboundNumber: number,\n            outboundAddress: outboundAddress,\n            outboundUsername: outboundUsername,\n            outboundPassword: outboundPassword,\n        }).toJson();\n        const data = await this.rpc.request(svc, 'CreateSIPTrunk', req, await this.authHeader({}, { admin: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTrunkInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * @param name - human-readable name of the trunk\n     * @param numbers - phone numbers of the trunk\n     * @param opts - CreateSipTrunkOptions\n     */\n    async createSipInboundTrunk(name, numbers, opts) {\n        let allowedAddresses;\n        let allowedNumbers;\n        let authUsername = '';\n        let authPassword = '';\n        let metadata = '';\n        if (opts !== undefined) {\n            allowedAddresses = opts.allowed_addresses;\n            allowedNumbers = opts.allowed_numbers;\n            authUsername = opts.auth_username || '';\n            authPassword = opts.auth_password || '';\n            metadata = opts.metadata || '';\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPInboundTrunkRequest({\n            trunk: new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPInboundTrunkInfo({\n                name: name,\n                numbers: numbers,\n                metadata: metadata,\n                allowedAddresses: allowedAddresses,\n                allowedNumbers: allowedNumbers,\n                authUsername: authUsername,\n                authPassword: authPassword,\n            }),\n        }).toJson();\n        const data = await this.rpc.request(svc, 'CreateSIPInboundTrunk', req, await this.authHeader({}, { admin: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPInboundTrunkInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * @param name - human-readable name of the trunk\n     * @param address - hostname and port of the SIP server to dial\n     * @param numbers - phone numbers of the trunk\n     * @param opts - CreateSipTrunkOptions\n     */\n    async createSipOutboundTrunk(name, address, numbers, opts) {\n        let authUsername = '';\n        let authPassword = '';\n        let transport = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTransport.SIP_TRANSPORT_AUTO;\n        let metadata = '';\n        if (opts !== undefined) {\n            authUsername = opts.auth_username || '';\n            authPassword = opts.auth_password || '';\n            transport = opts.transport || _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTransport.SIP_TRANSPORT_AUTO;\n            metadata = opts.metadata || '';\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPOutboundTrunkRequest({\n            trunk: new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPOutboundTrunkInfo({\n                name: name,\n                address: address,\n                numbers: numbers,\n                metadata: metadata,\n                transport: transport,\n                authUsername: authUsername,\n                authPassword: authPassword,\n            }),\n        }).toJson();\n        const data = await this.rpc.request(svc, 'CreateSIPOutboundTrunk', req, await this.authHeader({}, { admin: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPOutboundTrunkInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * @deprecated use `listSipInboundTrunk` or `listSipOutboundTrunk`\n     */\n    async listSipTrunk() {\n        var _a;\n        const req = {};\n        const data = await this.rpc.request(svc, 'ListSIPTrunk', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPTrunkRequest(req).toJson(), await this.authHeader({}, { admin: true }));\n        return (_a = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPTrunkResponse.fromJson(data, { ignoreUnknownFields: true }).items) !== null && _a !== void 0 ? _a : [];\n    }\n    async listSipInboundTrunk() {\n        var _a;\n        const req = {};\n        const data = await this.rpc.request(svc, 'ListSIPInboundTrunk', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPInboundTrunkRequest(req).toJson(), await this.authHeader({}, { admin: true }));\n        return (_a = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPInboundTrunkResponse.fromJson(data, { ignoreUnknownFields: true }).items) !== null && _a !== void 0 ? _a : [];\n    }\n    async listSipOutboundTrunk() {\n        var _a;\n        const req = {};\n        const data = await this.rpc.request(svc, 'ListSIPOutboundTrunk', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPOutboundTrunkRequest(req).toJson(), await this.authHeader({}, { admin: true }));\n        return (_a = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPOutboundTrunkResponse.fromJson(data, { ignoreUnknownFields: true }).items) !== null && _a !== void 0 ? _a : [];\n    }\n    /**\n     * @param sipTrunkId - sip trunk to delete\n     */\n    async deleteSipTrunk(sipTrunkId) {\n        const data = await this.rpc.request(svc, 'DeleteSIPTrunk', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteSIPTrunkRequest({ sipTrunkId }).toJson(), await this.authHeader({}, { admin: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTrunkInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * @param rule - sip dispatch rule\n     * @param opts - CreateSipDispatchRuleOptions\n     */\n    async createSipDispatchRule(rule, opts) {\n        let trunkIds;\n        let hidePhoneNumber = false;\n        let name = '';\n        let metadata = '';\n        let ruleProto = undefined;\n        if (opts !== undefined) {\n            trunkIds = opts.trunkIds;\n            hidePhoneNumber = opts.hidePhoneNumber || false;\n            name = opts.name || '';\n            metadata = opts.metadata || '';\n        }\n        if (rule.type == 'direct') {\n            ruleProto = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRule({\n                rule: {\n                    case: 'dispatchRuleDirect',\n                    value: new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleDirect({\n                        roomName: rule.roomName,\n                        pin: rule.pin || '',\n                    }),\n                },\n            });\n        }\n        else if (rule.type == 'individual') {\n            ruleProto = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRule({\n                rule: {\n                    case: 'dispatchRuleIndividual',\n                    value: new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleIndividual({\n                        roomPrefix: rule.roomPrefix,\n                        pin: rule.pin || '',\n                    }),\n                },\n            });\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPDispatchRuleRequest({\n            rule: ruleProto,\n            trunkIds: trunkIds,\n            hidePhoneNumber: hidePhoneNumber,\n            name: name,\n            metadata: metadata,\n        }).toJson();\n        const data = await this.rpc.request(svc, 'CreateSIPDispatchRule', req, await this.authHeader({}, { admin: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    async listSipDispatchRule() {\n        var _a;\n        const req = {};\n        const data = await this.rpc.request(svc, 'ListSIPDispatchRule', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPDispatchRuleRequest(req).toJson(), await this.authHeader({}, { admin: true }));\n        return (_a = _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ListSIPDispatchRuleResponse.fromJson(data, { ignoreUnknownFields: true }).items) !== null && _a !== void 0 ? _a : [];\n    }\n    /**\n     * @param sipDispatchRuleId - sip trunk to delete\n     */\n    async deleteSipDispatchRule(sipDispatchRuleId) {\n        const data = await this.rpc.request(svc, 'DeleteSIPDispatchRule', new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DeleteSIPDispatchRuleRequest({ sipDispatchRuleId }).toJson(), await this.authHeader({}, { admin: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * @param sipTrunkId - sip trunk to use for the call\n     * @param number - number to dial\n     * @param roomName - room to attach the call to\n     * @param opts - CreateSipParticipantOptions\n     */\n    async createSipParticipant(sipTrunkId, number, roomName, opts) {\n        let participantIdentity = '';\n        let participantName = '';\n        let participantMetadata = '';\n        let dtmf = '';\n        let playRingtone = false;\n        let hidePhoneNumber = false;\n        if (opts !== undefined) {\n            participantIdentity = opts.participantIdentity || '';\n            participantName = opts.participantName || '';\n            participantMetadata = opts.participantMetadata || '';\n            dtmf = opts.dtmf || '';\n            playRingtone = opts.playRingtone || false;\n            hidePhoneNumber = opts.hidePhoneNumber || false;\n        }\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.CreateSIPParticipantRequest({\n            sipTrunkId: sipTrunkId,\n            sipCallTo: number,\n            roomName: roomName,\n            participantIdentity: participantIdentity,\n            participantName: participantName,\n            participantMetadata: participantMetadata,\n            dtmf: dtmf,\n            playRingtone: playRingtone,\n            hidePhoneNumber: hidePhoneNumber,\n        }).toJson();\n        const data = await this.rpc.request(svc, 'CreateSIPParticipant', req, await this.authHeader({}, { call: true }));\n        return _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPParticipantInfo.fromJson(data, { ignoreUnknownFields: true });\n    }\n    /**\n     * @param roomName - room the SIP participant to transfer is connectd to\n     * @param participantIdentity - identity of the SIP participant to transfer\n     * @param transferTo - SIP URL to transfer the participant to\n     */\n    async transferSipParticipant(roomName, participantIdentity, transferTo) {\n        const req = new _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TransferSIPParticipantRequest({\n            participantIdentity: participantIdentity,\n            roomName: roomName,\n            transferTo: transferTo,\n        }).toJson();\n        await this.rpc.request(svc, 'TransferSIPParticipant', req, await this.authHeader({ roomAdmin: true, room: roomName }, { call: true }));\n    }\n}\n//# sourceMappingURL=SipClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbGl2ZWtpdC1zZXJ2ZXItc2RrQDIuNy4yL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9TaXBDbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNrcEI7QUFDdm1CO0FBQ2M7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsdURBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0RBQVEsT0FBTyx3REFBYztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0VBQXFCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGdHQUFnRyxJQUFJLGFBQWE7QUFDakgsZUFBZSwyREFBWSxrQkFBa0IsMkJBQTJCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJFQUE0QjtBQUNwRCx1QkFBdUIsa0VBQW1CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCx1R0FBdUcsSUFBSSxhQUFhO0FBQ3hILGVBQWUsa0VBQW1CLGtCQUFrQiwyQkFBMkI7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMkRBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsMkRBQVk7QUFDdEQ7QUFDQTtBQUNBLHdCQUF3Qiw0RUFBNkI7QUFDckQsdUJBQXVCLG1FQUFvQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Qsd0dBQXdHLElBQUksYUFBYTtBQUN6SCxlQUFlLG1FQUFvQixrQkFBa0IsMkJBQTJCO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLGtFQUFtQix3Q0FBd0MsSUFBSSxhQUFhO0FBQ2pKLHFCQUFxQixtRUFBb0Isa0JBQWtCLDJCQUEyQjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSx5RUFBMEIsd0NBQXdDLElBQUksYUFBYTtBQUMvSixxQkFBcUIsMEVBQTJCLGtCQUFrQiwyQkFBMkI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsMEVBQTJCLHdDQUF3QyxJQUFJLGFBQWE7QUFDaksscUJBQXFCLDJFQUE0QixrQkFBa0IsMkJBQTJCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsb0VBQXFCLEdBQUcsWUFBWSxvQ0FBb0MsSUFBSSxhQUFhO0FBQ2hLLGVBQWUsMkRBQVksa0JBQWtCLDJCQUEyQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOERBQWU7QUFDM0M7QUFDQTtBQUNBLCtCQUErQixvRUFBcUI7QUFDcEQ7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSw0QkFBNEIsOERBQWU7QUFDM0M7QUFDQTtBQUNBLCtCQUErQix3RUFBeUI7QUFDeEQ7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0Esd0JBQXdCLDJFQUE0QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHVHQUF1RyxJQUFJLGFBQWE7QUFDeEgsZUFBZSxrRUFBbUIsa0JBQWtCLDJCQUEyQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSx5RUFBMEIsd0NBQXdDLElBQUksYUFBYTtBQUMvSixxQkFBcUIsMEVBQTJCLGtCQUFrQiwyQkFBMkI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSwyRUFBNEIsR0FBRyxtQkFBbUIsb0NBQW9DLElBQUksYUFBYTtBQUNyTCxlQUFlLGtFQUFtQixrQkFBa0IsMkJBQTJCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBFQUEyQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsc0dBQXNHLElBQUksWUFBWTtBQUN0SCxlQUFlLGlFQUFrQixrQkFBa0IsMkJBQTJCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDRFQUE2QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsMkZBQTJGLGlDQUFpQyxJQUFJLFlBQVk7QUFDNUk7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZWtpdC1tZWV0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2xpdmVraXQtc2VydmVyLXNka0AyLjcuMi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvU2lwQ2xpZW50LmpzPzM3ZDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyNCBMaXZlS2l0LCBJbmMuXG4vL1xuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmltcG9ydCB7IENyZWF0ZVNJUERpc3BhdGNoUnVsZVJlcXVlc3QsIENyZWF0ZVNJUEluYm91bmRUcnVua1JlcXVlc3QsIENyZWF0ZVNJUE91dGJvdW5kVHJ1bmtSZXF1ZXN0LCBDcmVhdGVTSVBQYXJ0aWNpcGFudFJlcXVlc3QsIENyZWF0ZVNJUFRydW5rUmVxdWVzdCwgRGVsZXRlU0lQRGlzcGF0Y2hSdWxlUmVxdWVzdCwgRGVsZXRlU0lQVHJ1bmtSZXF1ZXN0LCBMaXN0U0lQRGlzcGF0Y2hSdWxlUmVxdWVzdCwgTGlzdFNJUERpc3BhdGNoUnVsZVJlc3BvbnNlLCBMaXN0U0lQSW5ib3VuZFRydW5rUmVxdWVzdCwgTGlzdFNJUEluYm91bmRUcnVua1Jlc3BvbnNlLCBMaXN0U0lQT3V0Ym91bmRUcnVua1JlcXVlc3QsIExpc3RTSVBPdXRib3VuZFRydW5rUmVzcG9uc2UsIExpc3RTSVBUcnVua1JlcXVlc3QsIExpc3RTSVBUcnVua1Jlc3BvbnNlLCBTSVBEaXNwYXRjaFJ1bGUsIFNJUERpc3BhdGNoUnVsZURpcmVjdCwgU0lQRGlzcGF0Y2hSdWxlSW5kaXZpZHVhbCwgU0lQRGlzcGF0Y2hSdWxlSW5mbywgU0lQSW5ib3VuZFRydW5rSW5mbywgU0lQT3V0Ym91bmRUcnVua0luZm8sIFNJUFBhcnRpY2lwYW50SW5mbywgU0lQVHJhbnNwb3J0LCBTSVBUcnVua0luZm8sIFRyYW5zZmVyU0lQUGFydGljaXBhbnRSZXF1ZXN0LCB9IGZyb20gJ0BsaXZla2l0L3Byb3RvY29sJztcbmltcG9ydCBTZXJ2aWNlQmFzZSBmcm9tICcuL1NlcnZpY2VCYXNlLmpzJztcbmltcG9ydCB7IFR3aXJwUnBjLCBsaXZla2l0UGFja2FnZSB9IGZyb20gJy4vVHdpcnBSUEMuanMnO1xuY29uc3Qgc3ZjID0gJ1NJUCc7XG4vKipcbiAqIENsaWVudCB0byBhY2Nlc3MgRWdyZXNzIEFQSXNcbiAqL1xuZXhwb3J0IGNsYXNzIFNpcENsaWVudCBleHRlbmRzIFNlcnZpY2VCYXNlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaG9zdCAtIGhvc3RuYW1lIGluY2x1ZGluZyBwcm90b2NvbC4gaS5lLiAnaHR0cHM6Ly9jbHVzdGVyLmxpdmVraXQuaW8nXG4gICAgICogQHBhcmFtIGFwaUtleSAtIEFQSSBLZXksIGNhbiBiZSBzZXQgaW4gZW52IHZhciBMSVZFS0lUX0FQSV9LRVlcbiAgICAgKiBAcGFyYW0gc2VjcmV0IC0gQVBJIFNlY3JldCwgY2FuIGJlIHNldCBpbiBlbnYgdmFyIExJVkVLSVRfQVBJX1NFQ1JFVFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGhvc3QsIGFwaUtleSwgc2VjcmV0KSB7XG4gICAgICAgIHN1cGVyKGFwaUtleSwgc2VjcmV0KTtcbiAgICAgICAgdGhpcy5ycGMgPSBuZXcgVHdpcnBScGMoaG9zdCwgbGl2ZWtpdFBhY2thZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbnVtYmVyIC0gcGhvbmUgbnVtYmVyIG9mIHRoZSB0cnVua1xuICAgICAqIEBwYXJhbSBvcHRzIC0gQ3JlYXRlU2lwVHJ1bmtPcHRpb25zXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIGBjcmVhdGVTaXBJbmJvdW5kVHJ1bmtgIG9yIGBjcmVhdGVTaXBPdXRib3VuZFRydW5rYFxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZVNpcFRydW5rKG51bWJlciwgb3B0cykge1xuICAgICAgICBsZXQgaW5ib3VuZEFkZHJlc3NlcztcbiAgICAgICAgbGV0IGluYm91bmROdW1iZXJzO1xuICAgICAgICBsZXQgaW5ib3VuZFVzZXJuYW1lID0gJyc7XG4gICAgICAgIGxldCBpbmJvdW5kUGFzc3dvcmQgPSAnJztcbiAgICAgICAgbGV0IG91dGJvdW5kQWRkcmVzcyA9ICcnO1xuICAgICAgICBsZXQgb3V0Ym91bmRVc2VybmFtZSA9ICcnO1xuICAgICAgICBsZXQgb3V0Ym91bmRQYXNzd29yZCA9ICcnO1xuICAgICAgICBsZXQgbmFtZSA9ICcnO1xuICAgICAgICBsZXQgbWV0YWRhdGEgPSAnJztcbiAgICAgICAgaWYgKG9wdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW5ib3VuZEFkZHJlc3NlcyA9IG9wdHMuaW5ib3VuZF9hZGRyZXNzZXM7XG4gICAgICAgICAgICBpbmJvdW5kTnVtYmVycyA9IG9wdHMuaW5ib3VuZF9udW1iZXJzO1xuICAgICAgICAgICAgaW5ib3VuZFVzZXJuYW1lID0gb3B0cy5pbmJvdW5kX3VzZXJuYW1lIHx8ICcnO1xuICAgICAgICAgICAgaW5ib3VuZFBhc3N3b3JkID0gb3B0cy5pbmJvdW5kX3Bhc3N3b3JkIHx8ICcnO1xuICAgICAgICAgICAgb3V0Ym91bmRBZGRyZXNzID0gb3B0cy5vdXRib3VuZF9hZGRyZXNzIHx8ICcnO1xuICAgICAgICAgICAgb3V0Ym91bmRVc2VybmFtZSA9IG9wdHMub3V0Ym91bmRfdXNlcm5hbWUgfHwgJyc7XG4gICAgICAgICAgICBvdXRib3VuZFBhc3N3b3JkID0gb3B0cy5vdXRib3VuZF9wYXNzd29yZCB8fCAnJztcbiAgICAgICAgICAgIG5hbWUgPSBvcHRzLm5hbWUgfHwgJyc7XG4gICAgICAgICAgICBtZXRhZGF0YSA9IG9wdHMubWV0YWRhdGEgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxID0gbmV3IENyZWF0ZVNJUFRydW5rUmVxdWVzdCh7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgbWV0YWRhdGE6IG1ldGFkYXRhLFxuICAgICAgICAgICAgaW5ib3VuZEFkZHJlc3NlczogaW5ib3VuZEFkZHJlc3NlcyxcbiAgICAgICAgICAgIGluYm91bmROdW1iZXJzOiBpbmJvdW5kTnVtYmVycyxcbiAgICAgICAgICAgIGluYm91bmRVc2VybmFtZTogaW5ib3VuZFVzZXJuYW1lLFxuICAgICAgICAgICAgaW5ib3VuZFBhc3N3b3JkOiBpbmJvdW5kUGFzc3dvcmQsXG4gICAgICAgICAgICBvdXRib3VuZE51bWJlcjogbnVtYmVyLFxuICAgICAgICAgICAgb3V0Ym91bmRBZGRyZXNzOiBvdXRib3VuZEFkZHJlc3MsXG4gICAgICAgICAgICBvdXRib3VuZFVzZXJuYW1lOiBvdXRib3VuZFVzZXJuYW1lLFxuICAgICAgICAgICAgb3V0Ym91bmRQYXNzd29yZDogb3V0Ym91bmRQYXNzd29yZCxcbiAgICAgICAgfSkudG9Kc29uKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ0NyZWF0ZVNJUFRydW5rJywgcmVxLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgYWRtaW46IHRydWUgfSkpO1xuICAgICAgICByZXR1cm4gU0lQVHJ1bmtJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG5hbWUgLSBodW1hbi1yZWFkYWJsZSBuYW1lIG9mIHRoZSB0cnVua1xuICAgICAqIEBwYXJhbSBudW1iZXJzIC0gcGhvbmUgbnVtYmVycyBvZiB0aGUgdHJ1bmtcbiAgICAgKiBAcGFyYW0gb3B0cyAtIENyZWF0ZVNpcFRydW5rT3B0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZVNpcEluYm91bmRUcnVuayhuYW1lLCBudW1iZXJzLCBvcHRzKSB7XG4gICAgICAgIGxldCBhbGxvd2VkQWRkcmVzc2VzO1xuICAgICAgICBsZXQgYWxsb3dlZE51bWJlcnM7XG4gICAgICAgIGxldCBhdXRoVXNlcm5hbWUgPSAnJztcbiAgICAgICAgbGV0IGF1dGhQYXNzd29yZCA9ICcnO1xuICAgICAgICBsZXQgbWV0YWRhdGEgPSAnJztcbiAgICAgICAgaWYgKG9wdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYWxsb3dlZEFkZHJlc3NlcyA9IG9wdHMuYWxsb3dlZF9hZGRyZXNzZXM7XG4gICAgICAgICAgICBhbGxvd2VkTnVtYmVycyA9IG9wdHMuYWxsb3dlZF9udW1iZXJzO1xuICAgICAgICAgICAgYXV0aFVzZXJuYW1lID0gb3B0cy5hdXRoX3VzZXJuYW1lIHx8ICcnO1xuICAgICAgICAgICAgYXV0aFBhc3N3b3JkID0gb3B0cy5hdXRoX3Bhc3N3b3JkIHx8ICcnO1xuICAgICAgICAgICAgbWV0YWRhdGEgPSBvcHRzLm1ldGFkYXRhIHx8ICcnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcSA9IG5ldyBDcmVhdGVTSVBJbmJvdW5kVHJ1bmtSZXF1ZXN0KHtcbiAgICAgICAgICAgIHRydW5rOiBuZXcgU0lQSW5ib3VuZFRydW5rSW5mbyh7XG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICBudW1iZXJzOiBudW1iZXJzLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBtZXRhZGF0YSxcbiAgICAgICAgICAgICAgICBhbGxvd2VkQWRkcmVzc2VzOiBhbGxvd2VkQWRkcmVzc2VzLFxuICAgICAgICAgICAgICAgIGFsbG93ZWROdW1iZXJzOiBhbGxvd2VkTnVtYmVycyxcbiAgICAgICAgICAgICAgICBhdXRoVXNlcm5hbWU6IGF1dGhVc2VybmFtZSxcbiAgICAgICAgICAgICAgICBhdXRoUGFzc3dvcmQ6IGF1dGhQYXNzd29yZCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KS50b0pzb24oKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3Qoc3ZjLCAnQ3JlYXRlU0lQSW5ib3VuZFRydW5rJywgcmVxLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgYWRtaW46IHRydWUgfSkpO1xuICAgICAgICByZXR1cm4gU0lQSW5ib3VuZFRydW5rSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBuYW1lIC0gaHVtYW4tcmVhZGFibGUgbmFtZSBvZiB0aGUgdHJ1bmtcbiAgICAgKiBAcGFyYW0gYWRkcmVzcyAtIGhvc3RuYW1lIGFuZCBwb3J0IG9mIHRoZSBTSVAgc2VydmVyIHRvIGRpYWxcbiAgICAgKiBAcGFyYW0gbnVtYmVycyAtIHBob25lIG51bWJlcnMgb2YgdGhlIHRydW5rXG4gICAgICogQHBhcmFtIG9wdHMgLSBDcmVhdGVTaXBUcnVua09wdGlvbnNcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVTaXBPdXRib3VuZFRydW5rKG5hbWUsIGFkZHJlc3MsIG51bWJlcnMsIG9wdHMpIHtcbiAgICAgICAgbGV0IGF1dGhVc2VybmFtZSA9ICcnO1xuICAgICAgICBsZXQgYXV0aFBhc3N3b3JkID0gJyc7XG4gICAgICAgIGxldCB0cmFuc3BvcnQgPSBTSVBUcmFuc3BvcnQuU0lQX1RSQU5TUE9SVF9BVVRPO1xuICAgICAgICBsZXQgbWV0YWRhdGEgPSAnJztcbiAgICAgICAgaWYgKG9wdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXV0aFVzZXJuYW1lID0gb3B0cy5hdXRoX3VzZXJuYW1lIHx8ICcnO1xuICAgICAgICAgICAgYXV0aFBhc3N3b3JkID0gb3B0cy5hdXRoX3Bhc3N3b3JkIHx8ICcnO1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gb3B0cy50cmFuc3BvcnQgfHwgU0lQVHJhbnNwb3J0LlNJUF9UUkFOU1BPUlRfQVVUTztcbiAgICAgICAgICAgIG1ldGFkYXRhID0gb3B0cy5tZXRhZGF0YSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXEgPSBuZXcgQ3JlYXRlU0lQT3V0Ym91bmRUcnVua1JlcXVlc3Qoe1xuICAgICAgICAgICAgdHJ1bms6IG5ldyBTSVBPdXRib3VuZFRydW5rSW5mbyh7XG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLFxuICAgICAgICAgICAgICAgIG51bWJlcnM6IG51bWJlcnMsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydDogdHJhbnNwb3J0LFxuICAgICAgICAgICAgICAgIGF1dGhVc2VybmFtZTogYXV0aFVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIGF1dGhQYXNzd29yZDogYXV0aFBhc3N3b3JkLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pLnRvSnNvbigpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChzdmMsICdDcmVhdGVTSVBPdXRib3VuZFRydW5rJywgcmVxLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgYWRtaW46IHRydWUgfSkpO1xuICAgICAgICByZXR1cm4gU0lQT3V0Ym91bmRUcnVua0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgYGxpc3RTaXBJbmJvdW5kVHJ1bmtgIG9yIGBsaXN0U2lwT3V0Ym91bmRUcnVua2BcbiAgICAgKi9cbiAgICBhc3luYyBsaXN0U2lwVHJ1bmsoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgcmVxID0ge307XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ0xpc3RTSVBUcnVuaycsIG5ldyBMaXN0U0lQVHJ1bmtSZXF1ZXN0KHJlcSkudG9Kc29uKCksIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7fSwgeyBhZG1pbjogdHJ1ZSB9KSk7XG4gICAgICAgIHJldHVybiAoX2EgPSBMaXN0U0lQVHJ1bmtSZXNwb25zZS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSkuaXRlbXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgIH1cbiAgICBhc3luYyBsaXN0U2lwSW5ib3VuZFRydW5rKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHJlcSA9IHt9O1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5ycGMucmVxdWVzdChzdmMsICdMaXN0U0lQSW5ib3VuZFRydW5rJywgbmV3IExpc3RTSVBJbmJvdW5kVHJ1bmtSZXF1ZXN0KHJlcSkudG9Kc29uKCksIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7fSwgeyBhZG1pbjogdHJ1ZSB9KSk7XG4gICAgICAgIHJldHVybiAoX2EgPSBMaXN0U0lQSW5ib3VuZFRydW5rUmVzcG9uc2UuZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pLml0ZW1zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFNpcE91dGJvdW5kVHJ1bmsoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgcmVxID0ge307XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ0xpc3RTSVBPdXRib3VuZFRydW5rJywgbmV3IExpc3RTSVBPdXRib3VuZFRydW5rUmVxdWVzdChyZXEpLnRvSnNvbigpLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgYWRtaW46IHRydWUgfSkpO1xuICAgICAgICByZXR1cm4gKF9hID0gTGlzdFNJUE91dGJvdW5kVHJ1bmtSZXNwb25zZS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSkuaXRlbXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2lwVHJ1bmtJZCAtIHNpcCB0cnVuayB0byBkZWxldGVcbiAgICAgKi9cbiAgICBhc3luYyBkZWxldGVTaXBUcnVuayhzaXBUcnVua0lkKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ0RlbGV0ZVNJUFRydW5rJywgbmV3IERlbGV0ZVNJUFRydW5rUmVxdWVzdCh7IHNpcFRydW5rSWQgfSkudG9Kc29uKCksIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7fSwgeyBhZG1pbjogdHJ1ZSB9KSk7XG4gICAgICAgIHJldHVybiBTSVBUcnVua0luZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcnVsZSAtIHNpcCBkaXNwYXRjaCBydWxlXG4gICAgICogQHBhcmFtIG9wdHMgLSBDcmVhdGVTaXBEaXNwYXRjaFJ1bGVPcHRpb25zXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlU2lwRGlzcGF0Y2hSdWxlKHJ1bGUsIG9wdHMpIHtcbiAgICAgICAgbGV0IHRydW5rSWRzO1xuICAgICAgICBsZXQgaGlkZVBob25lTnVtYmVyID0gZmFsc2U7XG4gICAgICAgIGxldCBuYW1lID0gJyc7XG4gICAgICAgIGxldCBtZXRhZGF0YSA9ICcnO1xuICAgICAgICBsZXQgcnVsZVByb3RvID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAob3B0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0cnVua0lkcyA9IG9wdHMudHJ1bmtJZHM7XG4gICAgICAgICAgICBoaWRlUGhvbmVOdW1iZXIgPSBvcHRzLmhpZGVQaG9uZU51bWJlciB8fCBmYWxzZTtcbiAgICAgICAgICAgIG5hbWUgPSBvcHRzLm5hbWUgfHwgJyc7XG4gICAgICAgICAgICBtZXRhZGF0YSA9IG9wdHMubWV0YWRhdGEgfHwgJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bGUudHlwZSA9PSAnZGlyZWN0Jykge1xuICAgICAgICAgICAgcnVsZVByb3RvID0gbmV3IFNJUERpc3BhdGNoUnVsZSh7XG4gICAgICAgICAgICAgICAgcnVsZToge1xuICAgICAgICAgICAgICAgICAgICBjYXNlOiAnZGlzcGF0Y2hSdWxlRGlyZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBTSVBEaXNwYXRjaFJ1bGVEaXJlY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vbU5hbWU6IHJ1bGUucm9vbU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwaW46IHJ1bGUucGluIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocnVsZS50eXBlID09ICdpbmRpdmlkdWFsJykge1xuICAgICAgICAgICAgcnVsZVByb3RvID0gbmV3IFNJUERpc3BhdGNoUnVsZSh7XG4gICAgICAgICAgICAgICAgcnVsZToge1xuICAgICAgICAgICAgICAgICAgICBjYXNlOiAnZGlzcGF0Y2hSdWxlSW5kaXZpZHVhbCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgU0lQRGlzcGF0Y2hSdWxlSW5kaXZpZHVhbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByb29tUHJlZml4OiBydWxlLnJvb21QcmVmaXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwaW46IHJ1bGUucGluIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxID0gbmV3IENyZWF0ZVNJUERpc3BhdGNoUnVsZVJlcXVlc3Qoe1xuICAgICAgICAgICAgcnVsZTogcnVsZVByb3RvLFxuICAgICAgICAgICAgdHJ1bmtJZHM6IHRydW5rSWRzLFxuICAgICAgICAgICAgaGlkZVBob25lTnVtYmVyOiBoaWRlUGhvbmVOdW1iZXIsXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgbWV0YWRhdGE6IG1ldGFkYXRhLFxuICAgICAgICB9KS50b0pzb24oKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucnBjLnJlcXVlc3Qoc3ZjLCAnQ3JlYXRlU0lQRGlzcGF0Y2hSdWxlJywgcmVxLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgYWRtaW46IHRydWUgfSkpO1xuICAgICAgICByZXR1cm4gU0lQRGlzcGF0Y2hSdWxlSW5mby5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSk7XG4gICAgfVxuICAgIGFzeW5jIGxpc3RTaXBEaXNwYXRjaFJ1bGUoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgcmVxID0ge307XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ0xpc3RTSVBEaXNwYXRjaFJ1bGUnLCBuZXcgTGlzdFNJUERpc3BhdGNoUnVsZVJlcXVlc3QocmVxKS50b0pzb24oKSwgYXdhaXQgdGhpcy5hdXRoSGVhZGVyKHt9LCB7IGFkbWluOiB0cnVlIH0pKTtcbiAgICAgICAgcmV0dXJuIChfYSA9IExpc3RTSVBEaXNwYXRjaFJ1bGVSZXNwb25zZS5mcm9tSnNvbihkYXRhLCB7IGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUgfSkuaXRlbXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2lwRGlzcGF0Y2hSdWxlSWQgLSBzaXAgdHJ1bmsgdG8gZGVsZXRlXG4gICAgICovXG4gICAgYXN5bmMgZGVsZXRlU2lwRGlzcGF0Y2hSdWxlKHNpcERpc3BhdGNoUnVsZUlkKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ0RlbGV0ZVNJUERpc3BhdGNoUnVsZScsIG5ldyBEZWxldGVTSVBEaXNwYXRjaFJ1bGVSZXF1ZXN0KHsgc2lwRGlzcGF0Y2hSdWxlSWQgfSkudG9Kc29uKCksIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7fSwgeyBhZG1pbjogdHJ1ZSB9KSk7XG4gICAgICAgIHJldHVybiBTSVBEaXNwYXRjaFJ1bGVJbmZvLmZyb21Kc29uKGRhdGEsIHsgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNpcFRydW5rSWQgLSBzaXAgdHJ1bmsgdG8gdXNlIGZvciB0aGUgY2FsbFxuICAgICAqIEBwYXJhbSBudW1iZXIgLSBudW1iZXIgdG8gZGlhbFxuICAgICAqIEBwYXJhbSByb29tTmFtZSAtIHJvb20gdG8gYXR0YWNoIHRoZSBjYWxsIHRvXG4gICAgICogQHBhcmFtIG9wdHMgLSBDcmVhdGVTaXBQYXJ0aWNpcGFudE9wdGlvbnNcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVTaXBQYXJ0aWNpcGFudChzaXBUcnVua0lkLCBudW1iZXIsIHJvb21OYW1lLCBvcHRzKSB7XG4gICAgICAgIGxldCBwYXJ0aWNpcGFudElkZW50aXR5ID0gJyc7XG4gICAgICAgIGxldCBwYXJ0aWNpcGFudE5hbWUgPSAnJztcbiAgICAgICAgbGV0IHBhcnRpY2lwYW50TWV0YWRhdGEgPSAnJztcbiAgICAgICAgbGV0IGR0bWYgPSAnJztcbiAgICAgICAgbGV0IHBsYXlSaW5ndG9uZSA9IGZhbHNlO1xuICAgICAgICBsZXQgaGlkZVBob25lTnVtYmVyID0gZmFsc2U7XG4gICAgICAgIGlmIChvcHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcnRpY2lwYW50SWRlbnRpdHkgPSBvcHRzLnBhcnRpY2lwYW50SWRlbnRpdHkgfHwgJyc7XG4gICAgICAgICAgICBwYXJ0aWNpcGFudE5hbWUgPSBvcHRzLnBhcnRpY2lwYW50TmFtZSB8fCAnJztcbiAgICAgICAgICAgIHBhcnRpY2lwYW50TWV0YWRhdGEgPSBvcHRzLnBhcnRpY2lwYW50TWV0YWRhdGEgfHwgJyc7XG4gICAgICAgICAgICBkdG1mID0gb3B0cy5kdG1mIHx8ICcnO1xuICAgICAgICAgICAgcGxheVJpbmd0b25lID0gb3B0cy5wbGF5UmluZ3RvbmUgfHwgZmFsc2U7XG4gICAgICAgICAgICBoaWRlUGhvbmVOdW1iZXIgPSBvcHRzLmhpZGVQaG9uZU51bWJlciB8fCBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXEgPSBuZXcgQ3JlYXRlU0lQUGFydGljaXBhbnRSZXF1ZXN0KHtcbiAgICAgICAgICAgIHNpcFRydW5rSWQ6IHNpcFRydW5rSWQsXG4gICAgICAgICAgICBzaXBDYWxsVG86IG51bWJlcixcbiAgICAgICAgICAgIHJvb21OYW1lOiByb29tTmFtZSxcbiAgICAgICAgICAgIHBhcnRpY2lwYW50SWRlbnRpdHk6IHBhcnRpY2lwYW50SWRlbnRpdHksXG4gICAgICAgICAgICBwYXJ0aWNpcGFudE5hbWU6IHBhcnRpY2lwYW50TmFtZSxcbiAgICAgICAgICAgIHBhcnRpY2lwYW50TWV0YWRhdGE6IHBhcnRpY2lwYW50TWV0YWRhdGEsXG4gICAgICAgICAgICBkdG1mOiBkdG1mLFxuICAgICAgICAgICAgcGxheVJpbmd0b25lOiBwbGF5UmluZ3RvbmUsXG4gICAgICAgICAgICBoaWRlUGhvbmVOdW1iZXI6IGhpZGVQaG9uZU51bWJlcixcbiAgICAgICAgfSkudG9Kc29uKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ0NyZWF0ZVNJUFBhcnRpY2lwYW50JywgcmVxLCBhd2FpdCB0aGlzLmF1dGhIZWFkZXIoe30sIHsgY2FsbDogdHJ1ZSB9KSk7XG4gICAgICAgIHJldHVybiBTSVBQYXJ0aWNpcGFudEluZm8uZnJvbUpzb24oZGF0YSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcm9vbU5hbWUgLSByb29tIHRoZSBTSVAgcGFydGljaXBhbnQgdG8gdHJhbnNmZXIgaXMgY29ubmVjdGQgdG9cbiAgICAgKiBAcGFyYW0gcGFydGljaXBhbnRJZGVudGl0eSAtIGlkZW50aXR5IG9mIHRoZSBTSVAgcGFydGljaXBhbnQgdG8gdHJhbnNmZXJcbiAgICAgKiBAcGFyYW0gdHJhbnNmZXJUbyAtIFNJUCBVUkwgdG8gdHJhbnNmZXIgdGhlIHBhcnRpY2lwYW50IHRvXG4gICAgICovXG4gICAgYXN5bmMgdHJhbnNmZXJTaXBQYXJ0aWNpcGFudChyb29tTmFtZSwgcGFydGljaXBhbnRJZGVudGl0eSwgdHJhbnNmZXJUbykge1xuICAgICAgICBjb25zdCByZXEgPSBuZXcgVHJhbnNmZXJTSVBQYXJ0aWNpcGFudFJlcXVlc3Qoe1xuICAgICAgICAgICAgcGFydGljaXBhbnRJZGVudGl0eTogcGFydGljaXBhbnRJZGVudGl0eSxcbiAgICAgICAgICAgIHJvb21OYW1lOiByb29tTmFtZSxcbiAgICAgICAgICAgIHRyYW5zZmVyVG86IHRyYW5zZmVyVG8sXG4gICAgICAgIH0pLnRvSnNvbigpO1xuICAgICAgICBhd2FpdCB0aGlzLnJwYy5yZXF1ZXN0KHN2YywgJ1RyYW5zZmVyU0lQUGFydGljaXBhbnQnLCByZXEsIGF3YWl0IHRoaXMuYXV0aEhlYWRlcih7IHJvb21BZG1pbjogdHJ1ZSwgcm9vbTogcm9vbU5hbWUgfSwgeyBjYWxsOiB0cnVlIH0pKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaXBDbGllbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/SipClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/TwirpRPC.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/TwirpRPC.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TwirpRpc: () => (/* binding */ TwirpRpc),\n/* harmony export */   livekitPackage: () => (/* binding */ livekitPackage)\n/* harmony export */ });\n/* harmony import */ var camelcase_keys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! camelcase-keys */ \"(rsc)/./node_modules/.pnpm/camelcase-keys@9.1.3/node_modules/camelcase-keys/index.js\");\n\n// twirp RPC adapter for client implementation\nconst defaultPrefix = '/twirp';\nconst livekitPackage = 'livekit';\n/**\n * JSON based Twirp V7 RPC\n */\nclass TwirpRpc {\n    constructor(host, pkg, prefix) {\n        if (host.startsWith('ws')) {\n            host = host.replace('ws', 'http');\n        }\n        this.host = host;\n        this.pkg = pkg;\n        this.prefix = prefix || defaultPrefix;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async request(service, method, data, headers) {\n        const path = `${this.prefix}/${this.pkg}.${service}/${method}`;\n        const url = new URL(path, this.host);\n        const response = await fetch(url, {\n            method: 'POST',\n            headers: Object.assign({ 'Content-Type': 'application/json;charset=UTF-8' }, headers),\n            body: JSON.stringify(data),\n        });\n        if (!response.ok) {\n            throw new Error(`Request failed with status ${response.status}: ${response.statusText}`);\n        }\n        const parsedResp = await response.json();\n        return (0,camelcase_keys__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(parsedResp, { deep: true });\n    }\n}\n//# sourceMappingURL=TwirpRPC.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbGl2ZWtpdC1zZXJ2ZXItc2RrQDIuNy4yL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9Ud2lycFJQQy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDM0M7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixZQUFZLEdBQUcsU0FBUyxHQUFHLFFBQVEsR0FBRyxPQUFPO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxrQ0FBa0MsZ0JBQWdCO0FBQ3ZGO0FBQ0EsU0FBUztBQUNUO0FBQ0EsMERBQTBELGdCQUFnQixJQUFJLG9CQUFvQjtBQUNsRztBQUNBO0FBQ0EsZUFBZSwwREFBYSxlQUFlLFlBQVk7QUFDdkQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZWtpdC1tZWV0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2xpdmVraXQtc2VydmVyLXNka0AyLjcuMi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvVHdpcnBSUEMuanM/YjUxOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2FtZWxjYXNlS2V5cyBmcm9tICdjYW1lbGNhc2Uta2V5cyc7XG4vLyB0d2lycCBSUEMgYWRhcHRlciBmb3IgY2xpZW50IGltcGxlbWVudGF0aW9uXG5jb25zdCBkZWZhdWx0UHJlZml4ID0gJy90d2lycCc7XG5leHBvcnQgY29uc3QgbGl2ZWtpdFBhY2thZ2UgPSAnbGl2ZWtpdCc7XG4vKipcbiAqIEpTT04gYmFzZWQgVHdpcnAgVjcgUlBDXG4gKi9cbmV4cG9ydCBjbGFzcyBUd2lycFJwYyB7XG4gICAgY29uc3RydWN0b3IoaG9zdCwgcGtnLCBwcmVmaXgpIHtcbiAgICAgICAgaWYgKGhvc3Quc3RhcnRzV2l0aCgnd3MnKSkge1xuICAgICAgICAgICAgaG9zdCA9IGhvc3QucmVwbGFjZSgnd3MnLCAnaHR0cCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgICAgIHRoaXMucGtnID0gcGtnO1xuICAgICAgICB0aGlzLnByZWZpeCA9IHByZWZpeCB8fCBkZWZhdWx0UHJlZml4O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGFzeW5jIHJlcXVlc3Qoc2VydmljZSwgbWV0aG9kLCBkYXRhLCBoZWFkZXJzKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgJHt0aGlzLnByZWZpeH0vJHt0aGlzLnBrZ30uJHtzZXJ2aWNlfS8ke21ldGhvZH1gO1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHBhdGgsIHRoaXMuaG9zdCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcgfSwgaGVhZGVycyksXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkUmVzcCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIGNhbWVsY2FzZUtleXMocGFyc2VkUmVzcCwgeyBkZWVwOiB0cnVlIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVR3aXJwUlBDLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/TwirpRPC.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/WebhookReceiver.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/WebhookReceiver.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebhookEvent: () => (/* binding */ WebhookEvent),\n/* harmony export */   WebhookReceiver: () => (/* binding */ WebhookReceiver),\n/* harmony export */   authorizeHeader: () => (/* binding */ authorizeHeader)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/.pnpm/@livekit+protocol@1.24.0/node_modules/@livekit/protocol/src/index.js\");\n/* harmony import */ var _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AccessToken.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/AccessToken.js\");\n\n\nconst authorizeHeader = 'Authorize';\nclass WebhookEvent extends _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.WebhookEvent {\n    constructor() {\n        super(...arguments);\n        this.event = '';\n    }\n    static fromBinary(bytes, options) {\n        return new WebhookEvent().fromBinary(bytes, options);\n    }\n    static fromJson(jsonValue, options) {\n        return new WebhookEvent().fromJson(jsonValue, options);\n    }\n    static fromJsonString(jsonString, options) {\n        return new WebhookEvent().fromJsonString(jsonString, options);\n    }\n}\nclass WebhookReceiver {\n    constructor(apiKey, apiSecret) {\n        this.verifier = new _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__.TokenVerifier(apiKey, apiSecret);\n    }\n    /**\n     * @param body - string of the posted body\n     * @param authHeader - `Authorization` header from the request\n     * @param skipAuth - true to skip auth validation\n     * @returns\n     */\n    async receive(body, authHeader, skipAuth = false) {\n        // verify token\n        if (!skipAuth) {\n            if (!authHeader) {\n                throw new Error('authorization header is empty');\n            }\n            const claims = await this.verifier.verify(authHeader);\n            // confirm sha\n            const encoder = new TextEncoder();\n            const hash = await crypto.subtle.digest('SHA-256', encoder.encode(body));\n            const hashDecoded = btoa(Array.from(new Uint8Array(hash))\n                .map((v) => String.fromCharCode(v))\n                .join(''));\n            if (claims.sha256 !== hashDecoded) {\n                throw new Error('sha256 checksum of body does not match');\n            }\n        }\n        return WebhookEvent.fromJson(JSON.parse(body), { ignoreUnknownFields: true });\n    }\n}\n//# sourceMappingURL=WebhookReceiver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbGl2ZWtpdC1zZXJ2ZXItc2RrQDIuNy4yL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9XZWJob29rUmVjZWl2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBc0U7QUFDckI7QUFDMUM7QUFDQSwyQkFBMkIsMkRBQWlCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsNEJBQTRCLDBEQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCwyQkFBMkI7QUFDcEY7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZWtpdC1tZWV0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2xpdmVraXQtc2VydmVyLXNka0AyLjcuMi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvV2ViaG9va1JlY2VpdmVyLmpzP2ZkOTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV2ViaG9va0V2ZW50IGFzIFByb3RvV2ViaG9va0V2ZW50IH0gZnJvbSAnQGxpdmVraXQvcHJvdG9jb2wnO1xuaW1wb3J0IHsgVG9rZW5WZXJpZmllciB9IGZyb20gJy4vQWNjZXNzVG9rZW4uanMnO1xuZXhwb3J0IGNvbnN0IGF1dGhvcml6ZUhlYWRlciA9ICdBdXRob3JpemUnO1xuZXhwb3J0IGNsYXNzIFdlYmhvb2tFdmVudCBleHRlbmRzIFByb3RvV2ViaG9va0V2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5ldmVudCA9ICcnO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUJpbmFyeShieXRlcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFdlYmhvb2tFdmVudCgpLmZyb21CaW5hcnkoYnl0ZXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUpzb24oanNvblZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgV2ViaG9va0V2ZW50KCkuZnJvbUpzb24oanNvblZhbHVlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21Kc29uU3RyaW5nKGpzb25TdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBXZWJob29rRXZlbnQoKS5mcm9tSnNvblN0cmluZyhqc29uU3RyaW5nLCBvcHRpb25zKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgV2ViaG9va1JlY2VpdmVyIHtcbiAgICBjb25zdHJ1Y3RvcihhcGlLZXksIGFwaVNlY3JldCkge1xuICAgICAgICB0aGlzLnZlcmlmaWVyID0gbmV3IFRva2VuVmVyaWZpZXIoYXBpS2V5LCBhcGlTZWNyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYm9keSAtIHN0cmluZyBvZiB0aGUgcG9zdGVkIGJvZHlcbiAgICAgKiBAcGFyYW0gYXV0aEhlYWRlciAtIGBBdXRob3JpemF0aW9uYCBoZWFkZXIgZnJvbSB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSBza2lwQXV0aCAtIHRydWUgdG8gc2tpcCBhdXRoIHZhbGlkYXRpb25cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGFzeW5jIHJlY2VpdmUoYm9keSwgYXV0aEhlYWRlciwgc2tpcEF1dGggPSBmYWxzZSkge1xuICAgICAgICAvLyB2ZXJpZnkgdG9rZW5cbiAgICAgICAgaWYgKCFza2lwQXV0aCkge1xuICAgICAgICAgICAgaWYgKCFhdXRoSGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdXRob3JpemF0aW9uIGhlYWRlciBpcyBlbXB0eScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2xhaW1zID0gYXdhaXQgdGhpcy52ZXJpZmllci52ZXJpZnkoYXV0aEhlYWRlcik7XG4gICAgICAgICAgICAvLyBjb25maXJtIHNoYVxuICAgICAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgZW5jb2Rlci5lbmNvZGUoYm9keSkpO1xuICAgICAgICAgICAgY29uc3QgaGFzaERlY29kZWQgPSBidG9hKEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkoaGFzaCkpXG4gICAgICAgICAgICAgICAgLm1hcCgodikgPT4gU3RyaW5nLmZyb21DaGFyQ29kZSh2KSlcbiAgICAgICAgICAgICAgICAuam9pbignJykpO1xuICAgICAgICAgICAgaWYgKGNsYWltcy5zaGEyNTYgIT09IGhhc2hEZWNvZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaGEyNTYgY2hlY2tzdW0gb2YgYm9keSBkb2VzIG5vdCBtYXRjaCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBXZWJob29rRXZlbnQuZnJvbUpzb24oSlNPTi5wYXJzZShib2R5KSwgeyBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYmhvb2tSZWNlaXZlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/WebhookReceiver.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/grants.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/grants.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   claimsToJwtPayload: () => (/* binding */ claimsToJwtPayload),\n/* harmony export */   trackSourceToString: () => (/* binding */ trackSourceToString)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/.pnpm/@livekit+protocol@1.24.0/node_modules/@livekit/protocol/src/index.js\");\n// SPDX-FileCopyrightText: 2024 LiveKit, Inc.\n//\n// SPDX-License-Identifier: Apache-2.0\n\nfunction trackSourceToString(source) {\n    switch (source) {\n        case _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource.CAMERA:\n            return 'camera';\n        case _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource.MICROPHONE:\n            return 'microphone';\n        case _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource.SCREEN_SHARE:\n            return 'screen_share';\n        case _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource.SCREEN_SHARE_AUDIO:\n            return 'screen_share_audio';\n        default:\n            throw new TypeError(`Cannot convert TrackSource ${source} to string`);\n    }\n}\nfunction claimsToJwtPayload(grant) {\n    var _a;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const claim = Object.assign({}, grant);\n    // eslint-disable-next-line no-restricted-syntax\n    if (Array.isArray((_a = claim.video) === null || _a === void 0 ? void 0 : _a.canPublishSources)) {\n        claim.video.canPublishSources = claim.video.canPublishSources.map(trackSourceToString);\n    }\n    return claim;\n}\n//# sourceMappingURL=grants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbGl2ZWtpdC1zZXJ2ZXItc2RrQDIuNy4yL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9ncmFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ2dEO0FBQ3pDO0FBQ1A7QUFDQSxhQUFhLDBEQUFXO0FBQ3hCO0FBQ0EsYUFBYSwwREFBVztBQUN4QjtBQUNBLGFBQWEsMERBQVc7QUFDeEI7QUFDQSxhQUFhLDBEQUFXO0FBQ3hCO0FBQ0E7QUFDQSw4REFBOEQsUUFBUTtBQUN0RTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZWtpdC1tZWV0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2xpdmVraXQtc2VydmVyLXNka0AyLjcuMi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvZ3JhbnRzLmpzPzUwY2MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyNCBMaXZlS2l0LCBJbmMuXG4vL1xuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmltcG9ydCB7IFRyYWNrU291cmNlIH0gZnJvbSAnQGxpdmVraXQvcHJvdG9jb2wnO1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrU291cmNlVG9TdHJpbmcoc291cmNlKSB7XG4gICAgc3dpdGNoIChzb3VyY2UpIHtcbiAgICAgICAgY2FzZSBUcmFja1NvdXJjZS5DQU1FUkE6XG4gICAgICAgICAgICByZXR1cm4gJ2NhbWVyYSc7XG4gICAgICAgIGNhc2UgVHJhY2tTb3VyY2UuTUlDUk9QSE9ORTpcbiAgICAgICAgICAgIHJldHVybiAnbWljcm9waG9uZSc7XG4gICAgICAgIGNhc2UgVHJhY2tTb3VyY2UuU0NSRUVOX1NIQVJFOlxuICAgICAgICAgICAgcmV0dXJuICdzY3JlZW5fc2hhcmUnO1xuICAgICAgICBjYXNlIFRyYWNrU291cmNlLlNDUkVFTl9TSEFSRV9BVURJTzpcbiAgICAgICAgICAgIHJldHVybiAnc2NyZWVuX3NoYXJlX2F1ZGlvJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYENhbm5vdCBjb252ZXJ0IFRyYWNrU291cmNlICR7c291cmNlfSB0byBzdHJpbmdgKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY2xhaW1zVG9Kd3RQYXlsb2FkKGdyYW50KSB7XG4gICAgdmFyIF9hO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgY2xhaW0gPSBPYmplY3QuYXNzaWduKHt9LCBncmFudCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoKF9hID0gY2xhaW0udmlkZW8pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5QdWJsaXNoU291cmNlcykpIHtcbiAgICAgICAgY2xhaW0udmlkZW8uY2FuUHVibGlzaFNvdXJjZXMgPSBjbGFpbS52aWRlby5jYW5QdWJsaXNoU291cmNlcy5tYXAodHJhY2tTb3VyY2VUb1N0cmluZyk7XG4gICAgfVxuICAgIHJldHVybiBjbGFpbTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/grants.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/index.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/index.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessToken: () => (/* reexport safe */ _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__.AccessToken),\n/* harmony export */   AliOSSUpload: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AliOSSUpload),\n/* harmony export */   AutoParticipantEgress: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AutoParticipantEgress),\n/* harmony export */   AutoTrackEgress: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AutoTrackEgress),\n/* harmony export */   AzureBlobUpload: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.AzureBlobUpload),\n/* harmony export */   DataPacket_Kind: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DataPacket_Kind),\n/* harmony export */   DirectFileOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.DirectFileOutput),\n/* harmony export */   EgressClient: () => (/* reexport safe */ _EgressClient_js__WEBPACK_IMPORTED_MODULE_2__.EgressClient),\n/* harmony export */   EgressInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressInfo),\n/* harmony export */   EgressStatus: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EgressStatus),\n/* harmony export */   EncodedFileOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EncodedFileOutput),\n/* harmony export */   EncodedFileType: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EncodedFileType),\n/* harmony export */   EncodingOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EncodingOptions),\n/* harmony export */   EncodingOptionsPreset: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.EncodingOptionsPreset),\n/* harmony export */   GCPUpload: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.GCPUpload),\n/* harmony export */   ImageCodec: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ImageCodec),\n/* harmony export */   ImageFileSuffix: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ImageFileSuffix),\n/* harmony export */   ImageOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ImageOutput),\n/* harmony export */   IngressAudioEncodingOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressAudioEncodingOptions),\n/* harmony export */   IngressAudioEncodingPreset: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressAudioEncodingPreset),\n/* harmony export */   IngressAudioOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressAudioOptions),\n/* harmony export */   IngressClient: () => (/* reexport safe */ _IngressClient_js__WEBPACK_IMPORTED_MODULE_4__.IngressClient),\n/* harmony export */   IngressInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInfo),\n/* harmony export */   IngressInput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressInput),\n/* harmony export */   IngressState: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressState),\n/* harmony export */   IngressVideoEncodingOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressVideoEncodingOptions),\n/* harmony export */   IngressVideoEncodingPreset: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressVideoEncodingPreset),\n/* harmony export */   IngressVideoOptions: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.IngressVideoOptions),\n/* harmony export */   ParticipantEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantEgressRequest),\n/* harmony export */   ParticipantInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantInfo),\n/* harmony export */   ParticipantInfo_State: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantInfo_State),\n/* harmony export */   ParticipantPermission: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.ParticipantPermission),\n/* harmony export */   Room: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.Room),\n/* harmony export */   RoomCompositeEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomCompositeEgressRequest),\n/* harmony export */   RoomEgress: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.RoomEgress),\n/* harmony export */   RoomServiceClient: () => (/* reexport safe */ _RoomServiceClient_js__WEBPACK_IMPORTED_MODULE_5__.RoomServiceClient),\n/* harmony export */   S3Upload: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.S3Upload),\n/* harmony export */   SIPDispatchRuleInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPDispatchRuleInfo),\n/* harmony export */   SIPParticipantInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPParticipantInfo),\n/* harmony export */   SIPTrunkInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SIPTrunkInfo),\n/* harmony export */   SegmentedFileOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SegmentedFileOutput),\n/* harmony export */   SegmentedFileProtocol: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.SegmentedFileProtocol),\n/* harmony export */   SipClient: () => (/* reexport safe */ _SipClient_js__WEBPACK_IMPORTED_MODULE_6__.SipClient),\n/* harmony export */   StreamOutput: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.StreamOutput),\n/* harmony export */   StreamProtocol: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.StreamProtocol),\n/* harmony export */   TokenVerifier: () => (/* reexport safe */ _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__.TokenVerifier),\n/* harmony export */   TrackCompositeEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackCompositeEgressRequest),\n/* harmony export */   TrackEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackEgressRequest),\n/* harmony export */   TrackInfo: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackInfo),\n/* harmony export */   TrackSource: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackSource),\n/* harmony export */   TrackType: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.TrackType),\n/* harmony export */   WebEgressRequest: () => (/* reexport safe */ _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__.WebEgressRequest),\n/* harmony export */   WebhookEvent: () => (/* reexport safe */ _WebhookReceiver_js__WEBPACK_IMPORTED_MODULE_7__.WebhookEvent),\n/* harmony export */   WebhookReceiver: () => (/* reexport safe */ _WebhookReceiver_js__WEBPACK_IMPORTED_MODULE_7__.WebhookReceiver),\n/* harmony export */   authorizeHeader: () => (/* reexport safe */ _WebhookReceiver_js__WEBPACK_IMPORTED_MODULE_7__.authorizeHeader),\n/* harmony export */   claimsToJwtPayload: () => (/* reexport safe */ _grants_js__WEBPACK_IMPORTED_MODULE_3__.claimsToJwtPayload),\n/* harmony export */   trackSourceToString: () => (/* reexport safe */ _grants_js__WEBPACK_IMPORTED_MODULE_3__.trackSourceToString)\n/* harmony export */ });\n/* harmony import */ var _livekit_protocol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livekit/protocol */ \"(rsc)/./node_modules/.pnpm/@livekit+protocol@1.24.0/node_modules/@livekit/protocol/src/index.js\");\n/* harmony import */ var _AccessToken_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AccessToken.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/AccessToken.js\");\n/* harmony import */ var _EgressClient_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EgressClient.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/EgressClient.js\");\n/* harmony import */ var _grants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./grants.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/grants.js\");\n/* harmony import */ var _IngressClient_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./IngressClient.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/IngressClient.js\");\n/* harmony import */ var _RoomServiceClient_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RoomServiceClient.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/RoomServiceClient.js\");\n/* harmony import */ var _SipClient_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SipClient.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/SipClient.js\");\n/* harmony import */ var _WebhookReceiver_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./WebhookReceiver.js */ \"(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/WebhookReceiver.js\");\n// SPDX-FileCopyrightText: 2024 LiveKit, Inc.\n//\n// SPDX-License-Identifier: Apache-2.0\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbGl2ZWtpdC1zZXJ2ZXItc2RrQDIuNy4yL25vZGVfbW9kdWxlcy9saXZla2l0LXNlcnZlci1zZGsvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNzMkI7QUFDcjBCO0FBQ0M7QUFDTjtBQUNPO0FBQ0k7QUFDUjtBQUNNO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGl2ZWtpdC1tZWV0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2xpdmVraXQtc2VydmVyLXNka0AyLjcuMi9ub2RlX21vZHVsZXMvbGl2ZWtpdC1zZXJ2ZXItc2RrL2Rpc3QvaW5kZXguanM/YWJkZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDI0IExpdmVLaXQsIEluYy5cbi8vXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuZXhwb3J0IHsgQWxpT1NTVXBsb2FkLCBBdXRvUGFydGljaXBhbnRFZ3Jlc3MsIEF1dG9UcmFja0VncmVzcywgQXp1cmVCbG9iVXBsb2FkLCBEYXRhUGFja2V0X0tpbmQsIERpcmVjdEZpbGVPdXRwdXQsIEVncmVzc0luZm8sIEVncmVzc1N0YXR1cywgRW5jb2RlZEZpbGVPdXRwdXQsIEVuY29kZWRGaWxlVHlwZSwgRW5jb2RpbmdPcHRpb25zLCBFbmNvZGluZ09wdGlvbnNQcmVzZXQsIEdDUFVwbG9hZCwgSW1hZ2VDb2RlYywgSW1hZ2VGaWxlU3VmZml4LCBJbWFnZU91dHB1dCwgSW5ncmVzc0F1ZGlvRW5jb2RpbmdPcHRpb25zLCBJbmdyZXNzQXVkaW9FbmNvZGluZ1ByZXNldCwgSW5ncmVzc0F1ZGlvT3B0aW9ucywgSW5ncmVzc0luZm8sIEluZ3Jlc3NJbnB1dCwgSW5ncmVzc1N0YXRlLCBJbmdyZXNzVmlkZW9FbmNvZGluZ09wdGlvbnMsIEluZ3Jlc3NWaWRlb0VuY29kaW5nUHJlc2V0LCBJbmdyZXNzVmlkZW9PcHRpb25zLCBQYXJ0aWNpcGFudEVncmVzc1JlcXVlc3QsIFBhcnRpY2lwYW50SW5mbywgUGFydGljaXBhbnRJbmZvX1N0YXRlLCBQYXJ0aWNpcGFudFBlcm1pc3Npb24sIFJvb20sIFJvb21Db21wb3NpdGVFZ3Jlc3NSZXF1ZXN0LCBSb29tRWdyZXNzLCBTM1VwbG9hZCwgU0lQRGlzcGF0Y2hSdWxlSW5mbywgU0lQUGFydGljaXBhbnRJbmZvLCBTSVBUcnVua0luZm8sIFNlZ21lbnRlZEZpbGVPdXRwdXQsIFNlZ21lbnRlZEZpbGVQcm90b2NvbCwgU3RyZWFtT3V0cHV0LCBTdHJlYW1Qcm90b2NvbCwgVHJhY2tDb21wb3NpdGVFZ3Jlc3NSZXF1ZXN0LCBUcmFja0VncmVzc1JlcXVlc3QsIFRyYWNrSW5mbywgVHJhY2tTb3VyY2UsIFRyYWNrVHlwZSwgV2ViRWdyZXNzUmVxdWVzdCwgfSBmcm9tICdAbGl2ZWtpdC9wcm90b2NvbCc7XG5leHBvcnQgKiBmcm9tICcuL0FjY2Vzc1Rva2VuLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vRWdyZXNzQ2xpZW50LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vZ3JhbnRzLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vSW5ncmVzc0NsaWVudC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL1Jvb21TZXJ2aWNlQ2xpZW50LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vU2lwQ2xpZW50LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vV2ViaG9va1JlY2VpdmVyLmpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/livekit-server-sdk@2.7.2/node_modules/livekit-server-sdk/dist/index.js\n");

/***/ })

};
;